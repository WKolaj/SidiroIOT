(this["webpackJsonpsidiro-iot"]=this["webpackJsonpsidiro-iot"]||[]).push([[0],{147:function(e,t,a){var n=a(136),r=[];e.exports=function(){var e=new Worker(a.p+"3205fa68b09a77991a63.worker.js",{name:"[hash].worker.js"});return n(e,r),e}},154:function(e,t,a){var n=a(136),r=[];e.exports=function(){var e=new Worker(a.p+"3b693e3ceeda33523431.worker.js",{name:"[hash].worker.js"});return n(e,r),e}},195:function(e,t,a){},196:function(e,t,a){},212:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),s=a.n(r),i=a(14),c=a.n(i),o=(a(195),a(196),a(33)),l=a(162),u=a(308),d=a(19),b=a(6),p=a(16),j=a(4),g=a(262),m=a(20),f=a(319),h=a(274),O=a(292),v=a(271),x=a(297),w=a(63),y=a(270),S=a(278),C=a(155),D=a.n(C),T=a(158),k=a.n(T),P=a(157),A=a.n(P),I=a(215),E=a(272),U=a(273),N=a(80),L=a.n(N),F=a(160),R=a.n(F),_=a(23),B=a(315),M=a(298),z=a(299),V=a(116),G=a.n(V),W=a(293),H=a(269),J=a(163),K=a(13),Y="SET_CONFIG_FILE",X="SET_IP_CONFIGURATION",Z=function(e){return{type:Y,file:e}},q=function(e){return{type:X,ipconfig:e}},Q=Object(g.a)((function(e){return{dropzoneText:{color:"rgb(140 140 140)"}}}));var $={setConfigFile:Z},ee=Object(K.b)(null,$)((function(e){var t=e.setConfigFile,a=Q(),s=Object(B.a)().t,i=Object(r.useCallback)((function(e){t(e[0])}),[t]),c=Object(J.a)({onDrop:i,accept:"application/JSON"}),o=c.getRootProps,l=c.getInputProps,u=c.isDragActive,d=c.isDragAccept,p=c.isDragReject,j=Object(r.useMemo)((function(){return Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)({},{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"40px",borderWidth:2,borderRadius:2,borderColor:"rgb(187 187 187)",borderStyle:"dashed",backgroundColor:"rgb(255 255 255)",outline:"none",transition:"border .5s ease-in-out"}),u?{borderColor:"#2196f3"}:{}),d?{borderColor:"#00e676"}:{}),p?{borderColor:"#ff1744"}:{})}),[u,p,d]);return Object(n.jsx)("section",{className:"container",children:Object(n.jsxs)("div",Object(b.a)(Object(b.a)({},o({style:j})),{},{className:"dropzone",children:[Object(n.jsx)("input",Object(b.a)({},l())),Object(n.jsx)(w.a,{variant:"body1",className:a.dropzoneText,children:s("SettingsPage.DropzoneText")})]}))})})),te=a(268),ae=a(15),ne=a.n(ae),re=a(26),se=a(41),ie=a(42),ce="/api/configFile/",oe=new(function(){function e(){Object(se.a)(this,e)}return Object(ie.a)(e,[{key:"uploadConfigFile",value:function(){var e=Object(re.a)(ne.a.mark((function e(t){var a,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),e.next=4,fetch(ce,{method:"POST",headers:{Accept:"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken},body:a});case 4:return n=e.sent,e.abrupt("return",{status:n.status});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadConfigFile",value:function(){var e=Object(re.a)(ne.a.mark((function e(){var t,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ce,{method:"GET",headers:{Accept:"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken}});case 2:if(200!==(t=e.sent).status){e.next=10;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",{status:t.status,data:a});case 10:return e.abrupt("return",{status:t.status});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"saveFileAs",value:function(e,t){var a=document.createElement("a");document.body.appendChild(a),a.style="display: none";var n=JSON.stringify(e),r=new Blob([n],{type:"octet/stream"}),s=window.URL.createObjectURL(r);a.href=s,a.download=t,a.click(),window.URL.revokeObjectURL(s)}}]),e}()),le="SET_SNACKBAR_TEXT",ue="SET_SNACKBAR_SHOWN",de=function(e,t){return{type:le,text:e,severity:t}},be=function(e){return{type:ue,shown:e}},pe="SET_BACKDROP_OPEN",je="SET_BACKDROP_CLOSED",ge=function(){return{type:pe}},me=function(){return{type:je}},fe="/api/ipConfig/",he=new(function(){function e(){Object(se.a)(this,e)}return Object(ie.a)(e,[{key:"getIpConfig",value:function(){var e=Object(re.a)(ne.a.mark((function e(){var t,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(fe),{method:"GET",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken}});case 2:if(200!==(t=e.sent).status){e.next=10;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",{status:t.status,data:a});case 10:return e.abrupt("return",{status:t.status});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setIpConfig",value:function(){var e=Object(re.a)(ne.a.mark((function e(t,a){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(fe,"/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken},body:JSON.stringify(a)});case 2:if(200!==(n=e.sent).status){e.next=10;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",{status:n.status,data:r});case 10:return e.abrupt("return",{status:n.status});case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()),Oe=a(264),ve=a(265),xe=a(267),we=a(266);function ye(e){return Object(n.jsxs)(Oe.a,{children:[Object(n.jsx)(ve.a,{onClick:e.buttonAction,children:Object(n.jsxs)(we.a,{children:[Object(n.jsx)(w.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title}),e.body]})}),Object(n.jsx)(xe.a,{children:Object(n.jsx)(te.a,{size:"small",color:"primary",onClick:e.buttonAction,children:e.buttonText})})]})}var Se="SET_IP_CONFIG_DIALOG_OPEN",Ce="SET_IP_CONFIG_DIALOG_IP_ADDRESS",De="SET_IP_CONFIG_DIALOG_SUBNET_MASK",Te="SET_IP_CONFIG_DIALOG_GATEWAY",ke="SET_IP_CONFIG_DIALOG_DHCP",Pe="SET_IP_CONFIG_DIALOG_DNS_PRIMARY",Ae="SET_IP_CONFIG_DIALOG_DNS_SECONDARY",Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:Se,open:e,interfaceName:t}},Ee=Object(g.a)((function(e){return{divider:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},strong:{fontWeight:700},subTitle:{marginTop:e.spacing(3)}}}));var Ue={setSnackbarText:de,setSnackbarShown:be,setConfigFile:Z,setBackdropOpen:ge,setBackdropClosed:me,setIPConfiguration:q,setIpConfigDialogOpen:Ie},Ne=Object(K.b)((function(e){return{file:e.SettingsReducer.file,ipconfig:e.SettingsReducer.ipconfig}}),Ue)((function(e){var t=e.setSnackbarText,a=e.setSnackbarShown,i=e.file,c=e.setConfigFile,o=e.setBackdropOpen,l=e.setBackdropClosed,u=e.setIPConfiguration,b=e.ipconfig,p=e.setIpConfigDialogOpen,j=Ee(),g=Object(B.a)().t;return Object(r.useEffect)((function(){he.getIpConfig().then((function(e){200===e.status&&u(e.data)}))}),[u]),Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(H.a,{container:!0,spacing:2,children:[Object(n.jsx)(H.a,{item:!0,xs:12,children:Object(n.jsx)(w.a,{variant:"h4",children:g("SettingsPage.Title")})}),Object(n.jsx)(H.a,{item:!0,xs:12,children:Object(n.jsx)(ee,{})}),null!==i?Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(H.a,{item:!0,xs:12,children:Object(n.jsx)("table",{children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{children:[g("SettingsPage.FileName"),"\u2003"]}),Object(n.jsx)("td",{children:i.name})]}),Object(n.jsxs)("tr",{children:[Object(n.jsxs)("td",{children:[g("SettingsPage.FileSize"),"\u2003"]}),Object(n.jsxs)("td",{children:[i.size," B"]})]})]})})}),Object(n.jsx)(H.a,{item:!0,xs:6,sm:3,md:2,children:Object(n.jsx)(te.a,{fullWidth:!0,onClick:function(){return o(),void oe.uploadConfigFile(i).then((function(e){l(),c(null),200===e.status?(t(g("Snackbar.SuccessfulFileUpload"),"success"),a(!0)):403===e.status?(t(g("Snackbar.UnsuccessfulFileUpload403"),"error"),a(!0)):400===e.status?(t(g("Snackbar.UnsuccessfulFileUpload400"),"error"),a(!0)):(t(g("Snackbar.UnknownError"),"error"),a(!0))}))},variant:"outlined",color:"secondary",children:g("SettingsPage.UploadFile")})}),Object(n.jsx)(H.a,{item:!0,xs:6,sm:3,md:2,children:Object(n.jsx)(te.a,{fullWidth:!0,onClick:function(){return c(null)},variant:"outlined",color:"primary",children:g("SettingsPage.RemoveFile")})}),Object(n.jsx)(H.a,{item:!0,xs:12,children:Object(n.jsx)(y.a,{className:j.divider})})]}):null,Object(n.jsx)(H.a,{item:!0,xs:6,sm:6,md:4,lg:2,children:Object(n.jsx)(te.a,{onClick:function(){oe.downloadConfigFile().then((function(e){200===e.status?oe.saveFileAs(e.data,"projectSettings.json"):403===e.status?(t(g("Snackbar.Generic403"),"error"),a(!0)):(t(g("Snackbar.UnknownError"),"error"),a(!0))}))},fullWidth:!0,variant:"contained",color:"primary",children:g("SettingsPage.LoadButton")})}),null!==b?Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(H.a,{item:!0,xs:12,className:j.subTitle,children:Object(n.jsx)(w.a,{variant:"h4",children:g("SettingsPage.IPConfigTitle")})}),Object(n.jsx)(H.a,{item:!0,xs:12,children:Object(n.jsx)(w.a,{variant:"h6",children:g("SettingsPage.NetworkInterfaces")})}),Object(n.jsx)(H.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:function(){for(var e=function(){var e=Object(d.a)(a[t],2)[1];return{v:Object(n.jsx)(ye,{title:e.name,body:Object(n.jsxs)(s.a.Fragment,{children:[void 0!==e.dhcp?Object(n.jsxs)(w.a,{variant:"body2",color:"textSecondary",component:"p",children:["DHCP: ",!0===e.dhcp?g("SettingsPage.DHCPTrue"):g("SettingsPage.DHCPFalse")]}):null,void 0!==e.ipAddress?Object(n.jsxs)(w.a,{variant:"body2",color:"textSecondary",component:"p",children:[g("SettingsPage.IPAddress"),": ",e.ipAddress]}):null,void 0!==e.subnetMask?Object(n.jsxs)(w.a,{variant:"body2",color:"textSecondary",component:"p",children:[g("SettingsPage.SubnetMask"),": ",e.subnetMask]}):null,void 0!==e.gateway?Object(n.jsxs)(w.a,{variant:"body2",color:"textSecondary",component:"p",children:[g("SettingsPage.Gateway"),": ",e.gateway]}):null,void 0!==e.dns&&void 0!==e.dns[0]?Object(n.jsxs)(w.a,{variant:"body2",color:"textSecondary",component:"p",children:[g("IPConfigDialog.DNSPrimary"),": ",e.dns[0]]}):null,void 0!==e.dns&&void 0!==e.dns[1]?Object(n.jsxs)(w.a,{variant:"body2",color:"textSecondary",component:"p",children:[g("IPConfigDialog.DNSSecondary"),": ",e.dns[1]]}):null]}),buttonText:g("SettingsPage.Edit"),buttonAction:function(){return p(!0,e.name)}})}},t=0,a=Object.entries(b);t<a.length;t++){var r=e();if("object"===typeof r)return r.v}}()})]}):null]})})})),Le=a(81),Fe=a(145),Re=a.n(Fe),_e="SELECT_DEVICE",Be=a(144),Me=a.n(Be),ze=a(143),Ve=a.n(ze),Ge=a(142),We=a.n(Ge),He=Object(g.a)((function(e){return{root:{width:"100%",position:"relative",overflow:"auto",maxHeight:"85vh"},active:{color:"green"},inactive:{color:"red"}}}));var Je={selectDevice:function(e,t,a){return{type:_e,deviceIndex:e,deviceID:t,deviceType:a}}},Ke=Object(K.b)((function(e){return{selectedDevice:e.DevicesListReducer,allDevices:e.DevicesSelectionPageReducer.devices}}),Je)((function(e){var t=He(),a=e.allDevices,s=e.selectedDevice,i=e.selectDevice;return Object(r.useEffect)((function(){if(""===s.selectedDeviceID&&a.length>0){var e=Object.entries(a[0]);i(0,e[0][1].id,e[0][1].type)}}),[a,i,s.selectedDeviceID]),Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(v.a,{component:"nav","aria-label":"device selection",children:a.map((function(a,r){for(var i=Object.entries(a),c=function(){var a=Object(d.a)(l[o],2)[1],i=void 0!==a.isConnected?a.isConnected&&a.isActive:a.isActive;return{v:Object(n.jsxs)(I.a,{button:!0,selected:s.selectedDeviceIndex===r,onClick:function(){return e.selectDevice(r,a.id,a.type)},children:[Object(n.jsx)(E.a,{children:"MBDevice"===a.type?Object(n.jsx)(We.a,{className:i?t.active:t.inactive}):"S7Device"===a.type?Object(n.jsx)(Ve.a,{className:i?t.active:t.inactive}):"InternalDevice"===a.type?Object(n.jsx)(Me.a,{className:i?t.active:t.inactive}):Object(n.jsx)(Re.a,{className:i?t.active:t.inactive})}),Object(n.jsx)(U.a,{primary:a.id})]},r)}},o=0,l=i;o<l.length;o++){var u=c();if("object"===typeof u)return u.v}return null}))})})})),Ye=a(71),Xe=a(311),Ze=a(275),qe=a(309),Qe="SET_UNIVERSAL_TABS_NAME_INDEX";function $e(e){var t=e.children,a=e.value,r=e.index,s=Object(Ye.a)(e,["children","value","index"]);return Object(n.jsx)("div",Object(b.a)(Object(b.a)({role:"tabpanel",hidden:a!==r,id:"scrollable-force-tabpanel-".concat(r),"aria-labelledby":"scrollable-force-tab-".concat(r)},s),{},{children:a===r&&Object(n.jsx)(qe.a,{p:1,children:t})}))}var et=Object(g.a)((function(e){return{root:{flexGrow:1,marginBottom:"20px"},defaultRoot:{flexGrow:1,width:"100%",marginBottom:"20px"},noElevation:{boxShadow:"unset"},tabpanel:{maxHeight:"78vh",overflow:"auto"}}}));var tt={setUniversalTabsNameIndex:function(e,t){return{type:Qe,name:e,index:t}}},at=Object(K.b)((function(e){return{tabsInstance:e.UniversalTabsReducer}}),tt)((function(e){var t=et();return Object(n.jsxs)("div",{className:e.defaultMargin?t.defaultRoot:t.root,children:[Object(n.jsx)(h.a,{position:"static",color:"default",className:t.noElevation,children:Object(n.jsx)(Xe.a,{value:e.tabsInstance[e.name]||0,onChange:function(t,a){return e.setUniversalTabsNameIndex(e.name,a)},variant:"scrollable",scrollButtons:"auto",indicatorColor:"secondary",textColor:"secondary","aria-label":"scrollable force tabs",children:e.tabs.map((function(e,t){return Object(n.jsx)(Ze.a,Object(b.a)({label:e.label},{id:"scrollable-force-tab-".concat(a=t),"aria-controls":"scrollable-force-tabpanel-".concat(a)}),"tab-".concat(t));var a}))})}),e.tabs.map((function(a,r){return Object(n.jsx)($e,{value:e.tabsInstance[e.name]||0,index:r,className:t.tabpanel,children:a.content},"tabpanel-".concat(r))}))]})})),nt="SET_ALL_DEVICES",rt="REFRESH_DEVICE_PARAMS",st="TOGGLE_TABLE_VIEW",it=a(146),ct=a(279),ot=a(280),lt=a(282),ut=a(277),dt=a(283),bt=a(281),pt=a(276),jt=a(119),gt=a(107),mt=a.n(gt),ft=a(106),ht=a.n(ft),Ot=Object(g.a)((function(e){return{root:{"& > *":{borderBottom:"unset"}}}})),vt=function(e){return"object"!==typeof e||null===e},xt=function(e){return e.every(vt)};function wt(e){var t=s.a.useState(!1),a=Object(d.a)(t,2),r=a[0],i=a[1],c=s.a.useState(null),o=Object(d.a)(c,2),l=o[0],u=o[1],b=Ot(),p=Object(B.a)().t,j=e.row,g=e.columns;s.a.useEffect((function(){var e=[];j.forEach((function(t,a){var n;"object"===typeof(n=t)&&null!==n&&e.push({cell:t,index:a})})),u(e)}),[j]);var m=function(e){var t,a=[],n=[],r=Object(it.a)(e);try{for(r.s();!(t=r.n()).done;){var s=Object(d.a)(t.value,2),i=s[0],c=s[1];a.push(i),n.push(JSON.stringify(c))}}catch(o){r.e(o)}finally{r.f()}return{rows:n,columns:a}};return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsxs)(pt.a,{className:b.root,children:[Object(n.jsx)(ut.a,{children:null!==l&&l.length>0?Object(n.jsx)(S.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!r)},children:r?Object(n.jsx)(ht.a,{}):Object(n.jsx)(mt.a,{})}):null}),j.map((function(e,t){return Object(n.jsx)(ut.a,{children:"boolean"===typeof e||null===e?"".concat(e):"object"===typeof e?Object(n.jsx)(S.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!r)},children:r?Object(n.jsx)(ht.a,{}):Object(n.jsx)(mt.a,{})}):e},t)}))]}),Object(n.jsx)(pt.a,{children:Object(n.jsx)(ut.a,{style:{paddingBottom:0,paddingTop:0},colSpan:j.length+1,children:Object(n.jsx)(ct.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(n.jsx)(qe.a,{margin:1,children:null!==l?l.map((function(e,t){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(w.a,{variant:"h6",gutterBottom:!0,component:"div",style:{marginTop:"20px"},children:p("DevicesSelectionPage.Properties.".concat(g[e.index]))}),Object(n.jsxs)(ot.a,{size:"small","aria-label":"purchases",children:[Object(n.jsx)(bt.a,{children:Object(n.jsx)(pt.a,{children:m(Object.entries(e.cell)).columns.map((function(t,a){return Object(n.jsx)(ut.a,{style:{width:"".concat(100/Object.entries(e.cell).length,"%")},children:t},a)}))})}),Object(n.jsx)(lt.a,{children:Object(n.jsx)(pt.a,{children:m(Object.entries(l[t].cell)).rows.map((function(e){return Object(n.jsx)(ut.a,{children:e},e)}))})})]})]},t)})):null})})})})]})}function yt(e){var t=Ot();return Object(n.jsx)(pt.a,{className:t.root,children:e.row.map((function(e,t){return Object(n.jsx)(ut.a,{children:"boolean"===typeof e?e.toString():"object"===typeof e?JSON.stringify(e):e},t)}))})}function St(e){var t=Object(B.a)().t;return Object(n.jsx)(dt.a,{component:jt.a,children:Object(n.jsxs)(ot.a,{"aria-label":"collapsible table",children:[Object(n.jsx)(bt.a,{children:Object(n.jsxs)(pt.a,{children:[e.rows.length>0&&e.rows.filter(xt).length<e.rows.length?Object(n.jsx)(ut.a,{}):null,e.columns.map((function(a,r){return Object(n.jsx)(ut.a,{style:{width:"".concat(100/e.columns.length,"%")},children:t("DevicesSelectionPage.Properties.".concat(a))},r)}))]})}),Object(n.jsx)(lt.a,{children:e.rows.map((function(t,a){return e.rows.filter(xt).length<e.rows.length?Object(n.jsx)(wt,{row:t,columns:e.columns},a):Object(n.jsx)(yt,{row:t},a)}))})]})})}var Ct,Dt=new(function(){function e(){Object(se.a)(this,e)}return Object(ie.a)(e,[{key:"getDevices",value:function(){var e=Object(re.a)(ne.a.mark((function e(){var t,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/api/device/"),{method:"GET",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken}});case 2:if(200!==(t=e.sent).status){e.next=10;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",{status:t.status,data:a});case 10:return e.abrupt("return",{status:t.status});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),Tt=new(function(){function e(){Object(se.a)(this,e)}return Object(ie.a)(e,[{key:"activateDevice",value:function(){var e=Object(re.a)(ne.a.mark((function e(t,a){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/api/activate/","/").concat(a),{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken},body:JSON.stringify({isActive:t})});case 2:if(200!==(n=e.sent).status){e.next=10;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",{status:n.status,data:r});case 10:return e.abrupt("return",{status:n.status});case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()),kt=a(147),Pt=a.n(kt),At=a(149),It=a.n(At),Et=a(320),Ut=a(150),Nt=a.n(Ut),Lt=a(284),Ft=Object(g.a)((function(e){return{title:{marginBottom:e.spacing(3)},onboarded:{color:"green"},offboarded:{color:"red"},alignTop:{verticalAlign:"top"},devicesTitleInline:{marginBottom:e.spacing(3),display:"inline-block"},marginTopTable:{marginTop:e.spacing(4)},advancedViewTables:{float:"right",verticalAlign:"top"}}}));var Rt={setAllDevices:function(e){return{type:nt,devices:e}},refreshDeviceParams:function(e){return{type:rt,params:e}},toggleTableView:function(){return{type:st}}},_t=Object(K.b)((function(e){return{selectedDevice:e.DevicesListReducer,allDevices:e.DevicesSelectionPageReducer.devices,authenticated:e.AuthenticationReducer.authed,tableView:e.DevicesSelectionPageReducer.tableView}}),Rt)((function(e){var t=Ft(),a=Object(B.a)().t,i=e.setAllDevices,c=e.allDevices,o=e.selectedDevice,l=e.authenticated,u=e.refreshDeviceParams,j=e.toggleTableView,g=e.tableView,m=Object(r.useCallback)((function(){Dt.getDevices().then((function(e){200===e.status&&i(function(e){for(var t=[],a=0,n=Object.entries(e);a<n.length;a++){var r=Object(d.a)(n[a],2),s=r[0],i=r[1];t.push(Object(p.a)({},s,i))}return t}(e.data))}))}),[i]);Object(r.useEffect)((function(){m()}),[i,m]),Object(r.useEffect)((function(){var e=function(e){var t=e.data;void 0!==t&&"RPC"!==t.type&&u(t)};return(Ct=Pt()()).addEventListener("message",(function(t){return e(t)})),function(){Ct.postMessage({token:null,text:"stop"}),Ct.removeEventListener("message",(function(t){return e(t)})),Ct.terminate()}}),[u]),Object(r.useEffect)((function(){null!==Ct&&(!1===l?Ct.postMessage({token:null,text:"stop"}):Ct.postMessage({token:JSON.parse(localStorage.getItem("user")).accessToken,text:"start",device:o.selectedDeviceID}))}),[l,o]);var f=function(e){var t={};return e.forEach((function(a){Array.isArray(a)&&(a=a[1]),void 0===t[a.type]&&(t=Object(b.a)(Object(b.a)({},t),{},Object(p.a)({},a.type,{type:a.type,rows:[],cols:h(a.type,e,g).cols}))),t=Object(b.a)(Object(b.a)({},t),{},Object(p.a)({},a.type,Object(b.a)(Object(b.a)({},t[a.type]),{},{rows:[].concat(Object(Le.a)(t[a.type].rows),[h(a.type,a,g).rows])})))})),t},h=function(e,t,a){switch(void 0===t.value||isNaN(t.value)||null===t.value||(t=Object(b.a)(Object(b.a)({},t),{},{value:parseFloat(t.value).toFixed(2)})),void 0!==t.lastValueTick&&(t=Object(b.a)(Object(b.a)({},t),{},{lastValueTick:v(new Date(1e3*parseFloat(t.lastValueTick)))})),e){case"MBDevice":return"simple"===a?{cols:["name","isActive","isConnected"],rows:[t.name,t.isActive,t.isConnected]}:{cols:["name","type","ipAddress","portNumber","isActive","isConnected","timeout"],rows:[t.name,t.type,t.ipAddress,t.portNumber,t.isActive,t.isConnected,t.timeout]};case"InternalDevice":return"simple"===a?{cols:["name","isActive"],rows:[t.name,t.isActive]}:{cols:["name","type","isActive"],rows:[t.name,t.type,t.isActive]};case"MSAgentDevice":return"simple"===a?{cols:["name","boarded","isActive"],rows:[t.name,t.boarded,t.isActive]}:{cols:["name","type","boarded","isActive","dataStorageSize","eventStorageSize","numberOfDataFilesToSend","numberOfEventFilesToSend","numberOfSendDataRetries","numberOfSendEventRetries","sendDataFileInterval","sendEventFileInterval"],rows:[t.name,t.type,t.boarded,t.isActive,t.dataStorageSize,t.eventStorageSize,t.numberOfDataFilesToSend,t.numberOfEventFilesToSend,t.numberOfSendDataRetries,t.numberOfSendEventRetries,t.sendDataFileInterval,t.sendEventFileInterval]};case"S7Device":return"simple"===a?{cols:["name","isActive","isConnected"],rows:[t.name,t.isActive,t.isConnected]}:{cols:["name","type","ipAddress","isActive","isConnected","rack","slot","timeout"],rows:[t.name,t.type,t.ipAddress,t.isActive,t.isConnected,t.rack,t.slot,t.timeout]};case"AverageCalculator":return"simple"===a?{cols:["name","value","unit"],rows:[t.name,t.value,t.unit]}:{cols:["name","type","value","unit","defaultValue","factor","sampleTime","calculationInterval","lastValueTick"],rows:[t.name,t.type,t.value,t.unit,t.defaultValue,t.factor,t.sampleTime,t.calculationInterval,t.lastValueTick]};case"IncreaseCalculator":return"simple"===a?{cols:["name","value","unit"],rows:[t.name,t.value,t.unit]}:{cols:["name","type","value","unit","defaultValue","factor","sampleTime","overflow","calculationInterval","lastValueTick"],rows:[t.name,t.type,t.value,t.unit,t.defaultValue,t.factor,t.sampleTime,t.overflow,t.calculationInterval,t.lastValueTick]};case"FactorCalculator":return"simple"===a?{cols:["name","value","unit"],rows:[t.name,t.value,t.unit]}:{cols:["name","type","value","unit","defaultValue","factor","sampleTime","lastValueTick"],rows:[t.name,t.type,t.value,t.unit,t.defaultValue,t.factor,t.sampleTime,t.lastValueTick]};case"SumCalculator":return"simple"===a?{cols:["name","value","unit"],rows:[t.name,t.value,t.unit]}:{cols:["name","type","value","unit","defaultValue","sampleTime","lastValueTick"],rows:[t.name,t.type,t.value,t.unit,t.defaultValue,t.sampleTime,t.lastValueTick]};case"ValueFromByteArrayCalculator":return"simple"===a?{cols:["name","value","unit"],rows:[t.name,t.value,t.unit]}:{cols:["name","type","value","unit","defaultValue","bitNumber","byteNumber","length","sampleTime","lastValueTick"],rows:[t.name,t.type,t.value,t.unit,t.defaultValue,t.bitNumber,t.byteNumber,t.length,t.sampleTime,t.lastValueTick]};case"ExpressionCalculator":return"simple"===a?{cols:["name","value","unit"],rows:[t.name,t.value,t.unit]}:{cols:["name","type","value","unit","defaultValue","expression","parameters","sampleTime","lastValueTick"],rows:[t.name,t.type,t.value,t.unit,t.defaultValue,t.expression,t.parameters,t.sampleTime,t.lastValueTick]};case"MBBoolean":case"MBByteArray":case"MBFloat":case"MBDouble":case"MBUInt32":case"MBUInt16":case"MBInt32":case"MBInt16":case"MBSwappedInt32":case"MBSwappedUInt32":case"MBSwappedFloat":case"MBSwappedDouble":return"simple"===a?{cols:["name","value","unit"],rows:[t.name,t.value,t.unit]}:{cols:["name","type","value","unit","defaultValue","length","offset","read","write","readAsSingle","writeAsSingle","readFCode","writeFCode","sampleTime","lastValueTick"],rows:[t.name,t.type,t.value,t.unit,t.defaultValue,t.length,t.offset,t.read,t.write,t.readAsSingle,t.writeAsSingle,t.readFCode,t.writeFCode,t.sampleTime,t.lastValueTick]};case"LastCycleDurationVariable":case"CPULoadVariable":return"simple"===a?{cols:["name","value","unit"],rows:[t.name,t.value,t.unit]}:{cols:["name","type","value","unit","defaultValue","sampleTime","lastValueTick"],rows:[t.name,t.type,t.value,t.unit,t.defaultValue,t.sampleTime,t.lastValueTick]};case"S7Int":case"S7DInt":case"S7SInt":case"S7UInt":case"S7UDInt":case"S7USInt":case"S7Real":case"S7DTL":case"S7ByteArray":return"simple"===a?{cols:["name","value","unit"],rows:[t.name,t.value,t.unit]}:{cols:["name","type","value","unit","defaultValue","dbNumber","length","memoryType","offset","read","readAsSingle","sampleTime","write","writeAsSingle","lastValueTick"],rows:[t.name,t.type,t.value,t.unit,t.defaultValue,t.dbNumber,t.length,t.memoryType,t.offset,t.read,t.readAsSingle,t.sampleTime,t.write,t.writeAsSingle,t.lastValueTick]};case"HighLimitAlert":return"simple"===a?{cols:["name","value","unit","lastValueTick"],rows:[t.name,t.value,t.unit,t.lastValueTick]}:{cols:["name","type","value","unit","defaultValue","highLimit","hysteresis","severity","sampleTime","texts","timeOffDelay","timeOnDelay","lastValueTick"],rows:[t.name,t.type,t.value,t.unit,t.defaultValue,t.highLimit,t.hysteresis,t.severity,t.sampleTime,t.texts,t.timeOffDelay,t.timeOnDelay,t.lastValueTick]};case"BandwidthLimitAlert":return"simple"===a?{cols:["name","value","unit","lastValueTick"],rows:[t.name,t.value,t.unit,t.lastValueTick]}:{cols:["name","type","value","unit","defaultValue","highLimit","lowLimit","hysteresis","severity","sampleTime","texts","timeOffDelay","timeOnDelay","lastValueTick"],rows:[t.name,t.type,t.value,t.unit,t.defaultValue,t.highLimit,t.lowLimit,t.hysteresis,t.severity,t.sampleTime,t.texts,t.timeOffDelay,t.timeOnDelay,t.lastValueTick]};case"LowLimitAlert":return"simple"===a?{cols:["name","value","unit","lastValueTick"],rows:[t.name,t.value,t.unit,t.lastValueTick]}:{cols:["name","type","value","unit","defaultValue","lowLimit","hysteresis","severity","sampleTime","texts","timeOffDelay","timeOnDelay","lastValueTick"],rows:[t.name,t.type,t.value,t.unit,t.defaultValue,t.lowLimit,t.hysteresis,t.severity,t.sampleTime,t.texts,t.timeOffDelay,t.timeOnDelay,t.lastValueTick]};case"ExactValuesAlert":return"simple"===a?{cols:["name","value","unit","lastValueTick"],rows:[t.name,t.value,t.unit,t.lastValueTick]}:{cols:["name","type","value","unit","defaultValue","severity","sampleTime","texts","timeOffDelay","timeOnDelay","lastValueTick"],rows:[t.name,t.type,t.value,t.unit,t.defaultValue,t.severity,t.sampleTime,t.texts,t.timeOffDelay,t.timeOnDelay,t.lastValueTick]};case"eventsToSendConfig":return"simple"===a?{cols:["entityId","sourceType","severity"],rows:[t.entityId,t.sourceType,t.severity]}:{cols:["entityId","sourceId","source","sourceType","severity","sendingInterval"],rows:[t.entityId,t.sourceId,t.source,t.sourceType,t.severity,t.sendingInterval]};case"dataToSendConfig":return"simple"===a?{cols:["datapointId","dataConverter"],rows:[t.datapointId,t.dataConverter]}:{cols:["datapointId","dataConverter","qualityCodeEnabled","sendingInterval"],rows:[t.datapointId,t.dataConverter,t.qualityCodeEnabled,t.sendingInterval]};default:return{cols:[],rows:[]}}},O=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=[],n=Object.entries(e),r=0,s=n;r<s.length;r++){var i=Object(d.a)(s[r],2),c=i[1];"dataToSendConfig"===t||"eventsToSendConfig"===t?a.push(Object(b.a)(Object(b.a)({},c),{},{type:t})):a.push(c)}return a},v=function(e){var t=e.getHours()<10?"0".concat(e.getHours()):e.getHours(),a=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes(),n=e.getSeconds()<10?"0".concat(e.getSeconds()):e.getSeconds();return"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear(),", ").concat(t,":").concat(a,":").concat(n)},x=function(){return""!==o.selectedDeviceID&&void 0!==c[o.selectedDeviceIndex]?void 0!==c[o.selectedDeviceIndex][o.selectedDeviceID].isConnected?c[o.selectedDeviceIndex][o.selectedDeviceID].isActive&&c[o.selectedDeviceIndex][o.selectedDeviceID].isConnected:c[o.selectedDeviceIndex][o.selectedDeviceID].isActive:null},y=function(){return"MSAgentDevice"===o.selectedDeviceType?c[o.selectedDeviceIndex][o.selectedDeviceID].boarded:null},C=function(e,t){Tt.activateDevice(e,t).then((function(e){200===e.status&&u(e.data)}))};return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(H.a,{container:!0,spacing:2,justify:"flex-start",alignItems:"flex-start",children:[Object(n.jsxs)(H.a,{item:!0,xs:12,sm:12,md:3,xl:2,children:[Object(n.jsx)(w.a,{variant:"h4",className:t.devicesTitleInline,children:a("DevicesSelectionPage.DevicesTitle")}),Object(n.jsx)(Lt.a,{in:!0,style:{transitionDelay:"500ms"},children:Object(n.jsx)(Et.a,{title:a("DevicesSelectionPage.RefreshAllDevices"),placement:"bottom",children:Object(n.jsx)(S.a,{"aria-label":"refresh",className:t.alignTop,onClick:function(){return m()},children:Object(n.jsx)(It.a,{})})})}),Object(n.jsx)(Ke,{})]}),Object(n.jsxs)(H.a,{container:!0,item:!0,xs:12,sm:12,md:9,xl:10,spacing:0,children:[Object(n.jsxs)(H.a,{item:!0,xs:12,children:[Object(n.jsx)(w.a,{variant:"h4",className:t.devicesTitleInline,children:o.selectedDeviceID}),Object(n.jsx)(Lt.a,{in:!0,style:{transitionDelay:"1000ms"},children:Object(n.jsx)(Et.a,{title:a("DevicesSelectionPage.ToggleTableView"),placement:"bottom",children:Object(n.jsx)(S.a,{"aria-label":"toggle-advanced-view",className:t.advancedViewTables,onClick:j,children:Object(n.jsx)(Nt.a,{})})})}),Object(n.jsx)(s.a.Fragment,{children:function(e,r){var i=[];return e.forEach((function(e,c){for(var o=0,l=Object.entries(e);o<l.length;o++){var u=Object(d.a)(l[o],2)[1];if(u.id===r.selectedDeviceID){var b=f([u]),p=O(b);i.push({label:a("DevicesSelectionPage.Tabs.info"),content:p.map((function(e,r){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(w.a,{variant:"h6",className:t.marginTopTable,children:a("DevicesSelectionPage.Properties.".concat(e.type))}),Object(n.jsx)(St,{columns:e.cols,rows:e.rows})]},r)}))});for(var j=0,g=Object.entries(u);j<g.length;j++){var m=Object(d.a)(g[j],2),h=m[0],v=m[1];if("object"===typeof v){var x=O(v,h),y=f(x),S=O(y);i.push({label:a("DevicesSelectionPage.Tabs.".concat(h)),content:S.map((function(e,r){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(w.a,{variant:"h6",className:t.marginTopTable,children:a("DevicesSelectionPage.Properties.".concat(e.type))}),Object(n.jsx)(St,{columns:e.cols,rows:e.rows})]},r)}))})}}}}return null})),Object(n.jsx)(at,{name:r.selectedDeviceType,tabs:i})}(c,o)})]}),Object(n.jsxs)(H.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(n.jsxs)(H.a,{item:!0,xs:12,sm:6,children:[Object(n.jsxs)(w.a,{variant:"h5",children:[a("DevicesSelectionPage.Status"),": ",x()?a("DevicesSelectionPage.StatusConnected"):a("DevicesSelectionPage.StatusDisconnected")]}),"MSAgentDevice"===o.selectedDeviceType?Object(n.jsx)(w.a,{variant:"h6",className:y()?t.onboarded:t.offboarded,children:y()?a("DevicesSelectionPage.StatusOnboarded"):a("DevicesSelectionPage.StatusOffboarded")}):null]}),Object(n.jsx)(H.a,{item:!0,xs:6,sm:3,children:Object(n.jsx)(te.a,{onClick:function(){return C(!0,o.selectedDeviceID)},fullWidth:!0,variant:"contained",color:"primary",disabled:!!x(),children:a("DevicesSelectionPage.Connect")})}),Object(n.jsx)(H.a,{item:!0,xs:6,sm:3,children:Object(n.jsx)(te.a,{onClick:function(){return C(!1,o.selectedDeviceID)},fullWidth:!0,variant:"contained",color:"secondary",disabled:!x(),children:a("DevicesSelectionPage.Disconnect")})})]})]})]})})})),Bt=a(317),Mt=a(316),zt=a(322),Vt="SET_ACCOUNT_FORM_CURRENT_PASSWORD",Gt="SET_ACCOUNT_FORM_NEW_PASSWORD",Wt="/api/user",Ht=new(function(){function e(){Object(se.a)(this,e)}return Object(ie.a)(e,[{key:"getMyAccountDetails",value:function(){var e=Object(re.a)(ne.a.mark((function e(){var t,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Wt,"/me"),{method:"GET",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken}});case 2:if(200!==(t=e.sent).status){e.next=10;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",{status:t.status,data:a});case 10:return e.abrupt("return",{status:t.status});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllAccounts",value:function(){var e=Object(re.a)(ne.a.mark((function e(){var t,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Wt),{method:"GET",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken}});case 2:if(200!==(t=e.sent).status){e.next=10;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",{status:t.status,data:a});case 10:return e.abrupt("return",{status:t.status});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteAccount",value:function(){var e=Object(re.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Wt,"/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken}});case 2:return a=e.sent,e.abrupt("return",{status:a.status});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"editAccount",value:function(){var e=Object(re.a)(ne.a.mark((function e(t,a,n){var r,s,i,c,o=arguments;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>3&&void 0!==o[3]&&o[3],s={name:a,permissions:n},r&&(i=Object(b.a)(Object(b.a)({},s),{},{password:r})),e.next=5,fetch("".concat(Wt,"/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken},body:JSON.stringify(r?i:s)});case 5:return c=e.sent,e.abrupt("return",{status:c.status});case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"editMyPassword",value:function(){var e=Object(re.a)(ne.a.mark((function e(t,a,n,r){var s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Wt,"/me"),{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken},body:JSON.stringify({name:t,permissions:a,oldPassword:n,password:r})});case 2:return s=e.sent,e.abrupt("return",{status:s.status});case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(re.a)(ne.a.mark((function e(t,a,n){var r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Wt,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken},body:JSON.stringify({name:t,permissions:n,password:a})});case 2:return r=e.sent,e.abrupt("return",{status:r.status});case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}()),Jt=Object(g.a)((function(e){return{root:{flexGrow:1,textAlign:"center"},loginButton:{marginTop:e.spacing(3)},form:{"& > *":{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}}));var Kt={setAccountFormCurrentPassword:function(e){return{type:Vt,password:e}},setAccountFormNewPassword:function(e){return{type:Gt,password:e}},setSnackbarText:de,setSnackbarShown:be},Yt=Object(K.b)((function(e){return{currentPassword:e.AccountPageReducer.currentPassword,newPassword:e.AccountPageReducer.newPassword}}),Kt)((function(e){var t=e.currentPassword,a=e.newPassword,s=e.setAccountFormCurrentPassword,i=e.setAccountFormNewPassword,c=e.setSnackbarText,o=e.setSnackbarShown,l=Jt(),u=Object(B.a)().t,b=Object(r.useState)({}),p=Object(d.a)(b,2),j=p[0],g=p[1],m=Object(r.useCallback)((function(){Ht.getMyAccountDetails().then((function(e){200===e.status?g(e.data):(c(u("Snackbar.UnknownError"),"error"),o(!0))}))}),[o,c,u]);Object(r.useEffect)((function(){m()}),[m]);var f=function(e){var n=u("AccountPage.PasswordHelperError8characters"),r=u("AccountPage.PasswordHelperErrorSamePasswords");if("currentPassword"===e){if(t.length>0&&t.length<8)return{error:!0,text:n}}else if(a.length>0&&a.length<8)return{error:!0,text:n};return a.length>0&&t.length>0&&a===t?{error:!0,text:r}:{error:!1,text:""}};return Object(n.jsx)("div",{className:l.root,children:Object(n.jsxs)(H.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center",alignContent:"center",children:[Object(n.jsx)(H.a,{item:!0,xs:12,children:Object(n.jsx)(w.a,{variant:"h4",children:u("AccountPage.Title")})}),Object(n.jsx)(w.a,{variant:"body1",children:u("AccountPage.Permissions")}),Object(n.jsx)(H.a,{container:!0,justify:"center",alignItems:"flex-start",alignContent:"center",item:!0,xs:12,children:Object(n.jsxs)(H.a,{item:!0,xs:12,sm:6,md:6,lg:4,xl:3,children:[j.permissions>=1?Object(n.jsx)(zt.a,{avatar:Object(n.jsx)(Mt.a,{children:"U"}),label:"User"}):null,j.permissions>=3?Object(n.jsx)(zt.a,{color:"primary",avatar:Object(n.jsx)(Mt.a,{children:"A"}),label:"Admin"}):null,7===j.permissions?Object(n.jsx)(zt.a,{color:"secondary",avatar:Object(n.jsx)(Mt.a,{children:"S"}),label:"SuperAdmin"}):null]})}),Object(n.jsx)(H.a,{container:!0,justify:"center",alignItems:"center",alignContent:"center",item:!0,xs:12,children:Object(n.jsx)(H.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:3,children:Object(n.jsxs)("form",{className:l.form,noValidate:!0,autoComplete:"off",children:[j.name?Object(n.jsx)(Bt.a,{fullWidth:!0,disabled:!0,label:u("AccountPage.NameTextField"),autoComplete:"username",defaultValue:j.name}):null,Object(n.jsx)(Bt.a,{type:"password",autoComplete:"current-password",value:t,onChange:function(e){return s(e.target.value)},fullWidth:!0,label:u("AccountPage.CurrentPasswordTextField")}),Object(n.jsx)(Bt.a,{type:"password",autoComplete:"new-password",value:a,onChange:function(e){return i(e.target.value)},fullWidth:!0,label:u("AccountPage.NewPasswordTextField"),helperText:f("newPassword").text,error:f("newPassword").error})]})})}),Object(n.jsx)(H.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:3,children:Object(n.jsx)(te.a,{onClick:function(){Ht.editMyPassword(j.name,j.permissions,t,a).then((function(e){200===e.status?(s(""),i(""),c(u("Snackbar.SuccessfulPasswordChange"),"success"),o(!0)):(c(u("Snackbar.UnsuccessfulPasswordChange"),"error"),o(!0))}))},className:l.loginButton,fullWidth:!0,color:"primary",variant:"contained",disabled:0===t.length||0===a.length||f("newPassword").error||f("currentPassword").error,children:u("AccountPage.ChangePasswordButton")})})]})})})),Xt=a(290),Zt=a(324),qt=a(109),Qt=a.n(qt),$t=a(111),ea=a.n($t),ta=a(110),aa=a.n(ta),na=a(108),ra=a.n(na),sa=Object(g.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function ia(e){var t=sa(),a=Object(m.a)(),r=e.count,s=e.page,i=e.rowsPerPage,c=e.onChangePage;return Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(S.a,{onClick:function(e){c(e,0)},disabled:0===s,"aria-label":"first page",children:"rtl"===a.direction?Object(n.jsx)(ra.a,{}):Object(n.jsx)(Qt.a,{})}),Object(n.jsx)(S.a,{onClick:function(e){c(e,s-1)},disabled:0===s,"aria-label":"previous page",children:"rtl"===a.direction?Object(n.jsx)(aa.a,{}):Object(n.jsx)(ea.a,{})}),Object(n.jsx)(S.a,{onClick:function(e){c(e,s+1)},disabled:s>=Math.ceil(r/i)-1,"aria-label":"next page",children:"rtl"===a.direction?Object(n.jsx)(ea.a,{}):Object(n.jsx)(aa.a,{})}),Object(n.jsx)(S.a,{onClick:function(e){c(e,Math.max(0,Math.ceil(r/i)-1))},disabled:s>=Math.ceil(r/i)-1,"aria-label":"last page",children:"rtl"===a.direction?Object(n.jsx)(Qt.a,{}):Object(n.jsx)(ra.a,{})})]})}var ca=Object(g.a)({table:{}});function oa(e){var t=e.rows,a=e.columns,r=e.noPagination,i=ca(),c=s.a.useState(0),o=Object(d.a)(c,2),l=o[0],u=o[1],b=s.a.useState(t.length<5?t.length:5),p=Object(d.a)(b,2),j=p[0],g=p[1],m=Object(B.a)().t,f=j-Math.min(j,t.length-l*j);return s.a.useEffect((function(){t.length<5?g(t.length):g(5)}),[t]),Object(n.jsx)(dt.a,{component:jt.a,children:Object(n.jsxs)(ot.a,{className:i.table,"aria-label":"params table",children:[Object(n.jsx)(bt.a,{children:Object(n.jsx)(pt.a,{children:a.map((function(e,t){return Object(n.jsx)(ut.a,{children:e},"column-".concat(t))}))})}),Object(n.jsxs)(lt.a,{children:[r?t.map((function(e,t){return Object(n.jsx)(pt.a,{children:e.map((function(e,t){return Object(n.jsx)(ut.a,{children:"boolean"===typeof e?e.toString():e},"cell-".concat(t))}))},"row-".concat(t))})):(j>0?t.slice(l*j,l*j+j):t).map((function(e,t){return Object(n.jsx)(pt.a,{children:e.map((function(e,t){return Object(n.jsx)(ut.a,{children:"boolean"===typeof e?e.toString():"object"===typeof e?JSON.stringify(e):e},"cell-".concat(t))}))},"row-".concat(t))})),f>0&&Object(n.jsx)(pt.a,{style:{height:53*f},children:Object(n.jsx)(ut.a,{colSpan:6})})]}),r?null:Object(n.jsx)(Xt.a,{children:Object(n.jsx)(pt.a,{children:Object(n.jsx)(Zt.a,{labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," ").concat(m("UniversalTable.Of")," ").concat(n)},labelRowsPerPage:m("UniversalTable.RowsPerPage"),rowsPerPageOptions:[t.length<5?t.length:5,10,25],colSpan:a.length,count:t.length,rowsPerPage:j,page:l,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){u(t)},onChangeRowsPerPage:function(e){g(parseInt(e.target.value,10)),u(0)},ActionsComponent:ia})})})]})})}var la="SET_USER_ACCOUNTS_LIST",ua=function(e){return{type:la,list:e}},da=a(153),ba=a.n(da),pa="SET_CREATE_ACCOUNT_DIALOG_OPEN",ja="SET_CREATE_ACCOUNT_DIALOG_NAME_TEXTFIELD",ga="SET_CREATE_ACCOUNT_DIALOG_NAME_TEXTFIELD_ERROR",ma="SET_CREATE_ACCOUNT_DIALOG_PASSWORD_TEXTFIELD",fa="SET_CREATE_ACCOUNT_DIALOG_PASSWORD_TEXTFIELD_ERROR",ha="SET_CREATE_ACCOUNT_DIALOG_PERMISSIONS_SELECT",Oa="SET_CREATE_ACCOUNT_DIALOG_NEWPASSWORD_TEXTFIELD",va="SET_CREATE_ACCOUNT_DIALOG_EDIT_ID",xa=function(e,t){return{type:pa,open:e,dialogType:t}},wa=function(e){return{type:ja,name:e}},ya=function(e){return{type:ha,permissions:e}},Sa=a(151),Ca=a.n(Sa),Da=a(152),Ta=a.n(Da),ka="SET_CONFIRM_DELETE_USER_DIALOG_OPEN",Pa="SET_CONFIRM_DELETE_USER_DIALOG_USERNAME",Aa=function(e){return{type:ka,open:e}},Ia=function(e,t){return{type:Pa,username:e,id:t}},Ea=new(function(){function e(){Object(se.a)(this,e)}return Object(ie.a)(e,[{key:"login",value:function(){var e=Object(re.a)(ne.a.mark((function e(t,a){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/auth/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,password:a})});case 2:if(200!==(n=e.sent).status){e.next=9;break}return e.next=6,n.json();case 6:return r=e.sent,n.headers.get("x-auth-token")&&localStorage.setItem("user",JSON.stringify(Object(b.a)(Object(b.a)({},r),{},{accessToken:n.headers.get("x-auth-token")}))),e.abrupt("return",r);case 9:throw new Error(n.status);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),Ua=Object(g.a)((function(e){return{icons:{padding:e.spacing(1)}}}));var Na={setUserAccountsList:ua,setCreateAccountDialogOpen:xa,setConfirmDeleteUserDialogOpen:Aa,setConfirmDeleteUserDialogUsername:Ia,setCreateAccountDialogEditId:function(e){return{type:va,id:e}},setCreateAccountDialogNameTextfield:wa,setCreateAccountDialogPermissionsSelect:ya,setSnackbarText:de,setSnackbarShown:be},La=Object(K.b)((function(e){return{accountsList:e.UserAccountsPageReducer.accountsList}}),Na)((function(e){var t=e.setUserAccountsList,a=e.setCreateAccountDialogOpen,i=e.accountsList,c=e.setConfirmDeleteUserDialogOpen,o=e.setConfirmDeleteUserDialogUsername,l=e.setCreateAccountDialogEditId,u=e.setCreateAccountDialogPermissionsSelect,d=e.setCreateAccountDialogNameTextfield,b=e.setSnackbarText,p=e.setSnackbarShown,j=Object(B.a)().t,g=Ua(),m=Object(r.useCallback)((function(){Ht.getAllAccounts().then((function(e){200===e.status?t(e.data):403===e.status?(b(j("Snackbar.Generic403"),"error"),p(!0)):(b(j("Snackbar.UnknownError"),"error"),p(!0))}))}),[t,p,b,j]);Object(r.useEffect)((function(){m()}),[m]);var f=function(e){var t=Ea.getCurrentUser().permissions;return 7===t||(3!==e&&7!==e||3!==t)};return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsxs)(H.a,{container:!0,spacing:2,children:[Object(n.jsx)(H.a,{item:!0,xs:12,children:Object(n.jsx)(w.a,{variant:"h4",children:j("AccountMenu.UserAccounts")})}),i.length>0?Object(n.jsx)(H.a,{item:!0,xs:12,children:Object(n.jsx)(oa,{noPagination:!0,columns:[j("UserAccountsPage.NameColumn"),j("UserAccountsPage.PermissionsColumn"),j("UserAccountsPage.ActionColumn")],rows:i.map((function(e){return[e.name,1===e.permissions?"User":3===e.permissions?"Admin":"SuperAdmin",f(e.permissions)?Object(n.jsxs)("div",{children:[Object(n.jsx)(Et.a,{title:j("UserAccountsPage.TooltipEdit"),placement:"top",children:Object(n.jsx)(S.a,{onClick:function(){return t=e._id,n=e.name,r=e.permissions,l(t),d(n),u(r),void a(!0,"edit");var t,n,r},className:g.icons,"aria-label":"edit",children:Object(n.jsx)(Ca.a,{})})}),Object(n.jsx)(Et.a,{title:j("UserAccountsPage.TooltipDelete"),placement:"top",children:Object(n.jsx)(S.a,{onClick:function(){return t=e._id,a=e.name,o(a,t),void c(!0);var t,a},className:g.icons,"aria-label":"delete",children:Object(n.jsx)(Ta.a,{})})})]}):null]}))})}):null,Object(n.jsx)(H.a,{item:!0,xs:6,sm:4,md:3,lg:2,children:Object(n.jsx)(te.a,{onClick:function(){return a(!0,"create")},fullWidth:!0,variant:"contained",color:"primary",startIcon:Object(n.jsx)(ba.a,{}),children:j("UserAccountsPage.CreateUser")})})]})})})),Fa=function(){var e=Ea.getCurrentUser();return null!==e&&void 0!==e._id&&void 0!==e.name&&void 0!==e.permissions&&void 0!==e.accessToken},Ra=function(){var e=Ea.getCurrentUser();return null!==e&&e.permissions>=3},_a="SET_AUTHENTICATED",Ba=function(e){return{type:_a,authenticated:e}};var Ma={setAuthenticated:Ba},za=Object(K.b)((function(e){return{authenticated:e.AuthenticationReducer.authed}}),Ma)((function(e){var t=e.children,a=(e.authenticated,e.setAuthenticated,Object(Ye.a)(e,["children","authenticated","setAuthenticated"]));return Object(n.jsx)(_.b,Object(b.a)(Object(b.a)({},a),{},{render:function(e){var a=e.location;return Ra()?t:Object(n.jsx)(_.a,{to:{pathname:"/login",state:{from:a}}})}}))}));function Va(){return Object(n.jsxs)(_.d,{children:[Object(n.jsx)(_.b,{path:"/settings",render:function(){return Object(n.jsx)(Ne,{})}}),Object(n.jsx)(_.b,{path:"/myaccount",render:function(){return Object(n.jsx)(Yt,{})}}),Object(n.jsx)(za,{path:"/useraccounts",children:Object(n.jsx)(La,{})}),Object(n.jsx)(_.b,{path:"/",render:function(){return Object(n.jsx)(_t,{})}})]})}var Ga="SET_LANGUAGE_DIALOG_OPEN",Wa=function(e){return{type:Ga,open:e}},Ha=a(83),Ja=a(84),Ka=a(296),Ya=a(115),Xa=a.n(Ya),Za=a(156),qa=a.n(Za),Qa=a(291),$a=a(164),en=a(159),tn=a.n(en),an=a(294),nn="SET_LOGIN_FORM_USERNAME",rn="SET_LOGIN_FORM_PASSWORD",sn="SET_LOGIN_FORM_USERNAME_ERROR",cn="SET_LOGIN_FORM_PASSWORD_ERROR",on=function(e){return{type:nn,username:e}},ln=function(e){return{type:rn,password:e}},un=Object(g.a)((function(e){return{contentDesktop:{padding:e.spacing(1),height:"100vh",width:"100%"},contentMobile:{padding:e.spacing(1),height:"100%",width:"100%"},loginButton:{marginTop:e.spacing(3)},form:{"& > *":{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},fab:{position:"absolute",top:e.spacing(2),right:e.spacing(2)}}}));var dn={setLanguageDialogOpen:Wa,setLoginFormPassword:ln,setLoginFormUsername:on,setLoginFormUsernameError:function(e){return{type:sn,error:e}},setLoginFormPasswordError:function(e){return{type:cn,error:e}},setSnackbarText:de,setSnackbarShown:be},bn=Object(K.b)((function(e){return{login:e.LoginPageReducer.username,loginError:e.LoginPageReducer.usernameError,password:e.LoginPageReducer.password,passwordError:e.LoginPageReducer.passwordError}}),dn)((function(e){var t=un(),a=Object(B.a)().t,r=Object(m.a)(),i=Object(W.a)("".concat(r.breakpoints.down("sm")," and (orientation: landscape)")),c=Object(_.g)(),o=function(){Ea.login(e.login,e.password).then((function(){c.push("/")})).catch((function(){e.setLoginFormUsernameError(!0),e.setLoginFormPasswordError(!0),e.setLoginFormPassword(""),e.setSnackbarText(a("Snackbar.LoginFailed"),"error"),e.setSnackbarShown(!0)}))},l=function(t){"Enter"===t.key&&e.login.length>=1&&e.password.length>=1&&o()},u=function(t,a){e.setLoginFormUsernameError(!1),e.setLoginFormPasswordError(!1),"username"===t?e.setLoginFormUsername(a):e.setLoginFormPassword(a)},d={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen};return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(Lt.a,{in:!0,timeout:d,style:{transitionDelay:"500ms"},unmountOnExit:!0,children:Object(n.jsx)(Et.a,{title:a("LoginPage.Language"),placement:"bottom",children:Object(n.jsx)(an.a,{"aria-label":"choose langauge",className:t.fab,color:"primary",onClick:function(){return e.setLanguageDialogOpen(!0)},children:Object(n.jsx)(L.a,{})})})}),Object(n.jsxs)(H.a,{className:i?t.contentMobile:t.contentDesktop,container:!0,spacing:0,direction:"row",justify:"center",alignItems:"center",alignContent:"center",children:[Object(n.jsx)(H.a,{item:!0,xs:12,children:Object(n.jsx)(w.a,{align:"center",variant:"h2",gutterBottom:!0,children:"SidiroIOT"})}),Object(n.jsx)(H.a,{item:!0,xs:12,children:Object(n.jsx)(w.a,{align:"center",variant:"h4",gutterBottom:!0,children:a("LoginPage.LoginTitle")})}),Object(n.jsxs)(H.a,{item:!0,xs:12,sm:8,md:6,lg:4,xl:3,children:[Object(n.jsxs)("form",{noValidate:!0,autoComplete:"off",className:t.form,children:[Object(n.jsx)(Bt.a,{error:e.loginError,value:e.login,onChange:function(e){return u("username",e.target.value)},id:"login",label:a("LoginPage.FormLoginTextField"),fullWidth:!0,variant:"standard",autoComplete:"username",onKeyDown:l}),Object(n.jsx)(Bt.a,{error:e.passwordError,value:e.password,onChange:function(e){return u("password",e.target.value)},id:"password",type:"password",label:a("LoginPage.FormPasswordTextField"),fullWidth:!0,variant:"standard",autoComplete:"password",onKeyDown:l})]}),Object(n.jsx)(te.a,{onClick:function(){o()},className:t.loginButton,color:"primary",variant:"contained",fullWidth:!0,disabled:e.login.length<1||e.password.length<1,children:a("LoginPage.LoginButton")})]})]})]})})),pn="SET_HARDWARE_USAGE",jn=a(154),gn=a.n(jn);var mn={setAuthenticated:Ba},fn=Object(K.b)((function(e){return{authenticated:e.AuthenticationReducer.authed}}),mn)((function(e){var t=e.children,a=e.authenticated,r=e.setAuthenticated,i=Object(Ye.a)(e,["children","authenticated","setAuthenticated"]);return s.a.useEffect((function(){Fa()&&r(!0)}),[a,r]),Object(n.jsx)(_.b,Object(b.a)(Object(b.a)({},i),{},{render:function(e){var a=e.location;return Fa()?t:Object(n.jsx)(_.a,{to:{pathname:"/login",state:{from:a}}})}}))})),hn=a(295);function On(e){var t=[{pct:0,color:{r:0,g:255,b:0}},{pct:.5,color:{r:255,g:255,b:0}},{pct:1,color:{r:255,g:0,b:0}}];return Object(n.jsxs)("div",{style:{position:"relative",display:"inline-flex",marginRight:"20px",marginLeft:"5px"},children:[Object(n.jsx)(hn.a,Object(b.a)(Object(b.a)({variant:"determinate",style:{color:"#eeeeee1c"},size:40,thickness:4},e),{},{value:100})),Object(n.jsx)(hn.a,Object(b.a)(Object(b.a)({variant:"static"},e),{},{style:{position:"absolute",animationDuration:"1500ms",color:function(e){for(var a=1;a<t.length-1&&!(e<t[a].pct);a++);var n=t[a-1],r=t[a],s=r.pct-n.pct,i=(e-n.pct)/s,c=1-i,o=i,l={r:Math.floor(n.color.r*c+r.color.r*o),g:Math.floor(n.color.g*c+r.color.g*o),b:Math.floor(n.color.b*c+r.color.b*o)};return"rgb("+[l.r,l.g,l.b].join(",")+")"}(e.value/100)}})),Object(n.jsx)("div",{style:{position:"absolute",display:"flex",top:"0px",left:"0px",bottom:"0px",right:"0px",alignItems:"center",justifyContent:"center"},children:Object(n.jsx)(w.a,{variant:"caption",component:"div",color:"initial",children:"".concat(Math.round(e.value)).concat(e.unit)})})]})}var vn,xn=240,wn=Object(g.a)((function(e){var t,a,n;return{root:{display:"flex",flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:xn,width:"calc(100% - ".concat(xn,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:(t={width:xn,flexShrink:0,whiteSpace:"nowrap"},Object(p.a)(t,"".concat(e.breakpoints.down("sm")," and (orientation: portrait)"),{display:"none"}),Object(p.a)(t,"".concat(e.breakpoints.down("sm")," and (orientation: landscape)"),{display:"flex"}),t),drawerOpen:{width:xn,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},toolbar:Object(b.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:Object(p.a)({flexGrow:1,width:"calc(100% - 57px)",padding:e.spacing(3)},"".concat(e.breakpoints.down("sm")," and (orientation: portrait)"),{paddingBottom:e.spacing(10),paddingTop:e.spacing(1),paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}),bottomNavi:(a={position:"fixed",bottom:0,width:"100%",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},Object(p.a)(a,"".concat(e.breakpoints.down("sm")," and (orientation: portrait)"),{display:"flex"}),Object(p.a)(a,"".concat(e.breakpoints.down("sm")," and (orientation: landscape)"),{display:"none"}),Object(p.a)(a,"".concat(e.breakpoints.up("md")),{display:"none"}),Object(p.a)(a,"textAlign","center"),a),title:{flexGrow:1},hardwareUsage:{width:"50px",height:"40px"},sectionDesktop:(n={display:"none"},Object(p.a)(n,e.breakpoints.up("md"),{display:"flex",alignItems:"center"}),Object(p.a)(n,"flexGrow",1),n),sectionMobile:Object(p.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),loginButton:Object(p.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"})}}));var yn={setLanguageDialogOpen:Wa,setHardwareUsage:function(e,t,a,n){return{type:pn,cpuUsage:e,cpuTemperature:t,ramUsage:a,diskUsage:n}},setAuthenticated:Ba,setCreateAccountDialogOpen:xa,setLoginFormUsername:on,setLoginFormPassword:ln},Sn=Object(K.b)((function(e){return{hardwareUsage:e.HardwareUsageReducer,authenticated:e.AuthenticationReducer.authed}}),yn)((function(e){var t,a,i,c=wn(),l=Object(m.a)(),u=s.a.useState(!1),b=Object(d.a)(u,2),g=b[0],C=b[1],T=Object(B.a)().t,P=Object(W.a)("".concat(l.breakpoints.down("sm")," and (orientation: portrait)")),N=s.a.useState(null),F=Object(d.a)(N,2),V=F[0],H=F[1],J=s.a.useState(null),K=Object(d.a)(J,2),Y=K[0],X=K[1],Z=s.a.useState(0),q=Object(d.a)(Z,2),Q=q[0],$=q[1],ee=e.setHardwareUsage,te=e.authenticated,ae=e.setAuthenticated,ne=Object(_.g)(),re=Object(_.h)(),se=Boolean(V),ie=Boolean(Y);Object(r.useEffect)((function(){var e=function(e){void 0!==e.data.cpuUsage&&ee(e.data.cpuUsage,e.data.cpuTemperature,e.data.ramUsage,e.data.diskUsage)};return void 0===vn&&(vn=gn()()),vn.addEventListener("message",(function(t){return e(t)})),function(){vn.postMessage({token:null,text:"stop"}),vn.removeEventListener("message",(function(t){return e(t)})),vn.terminate()}}),[ee]),Object(r.useEffect)((function(){$(re.pathname)}),[re]),Object(r.useEffect)((function(){!1===te?vn.postMessage({token:null,text:"stop"}):vn.postMessage({token:JSON.parse(localStorage.getItem("user")).accessToken,text:"start"})}),[te]),Object(r.useEffect)((function(){P&&(C(!1),H(null))}),[P]);var ce=function(e){H(e.currentTarget)},oe=function(){X(null)},le=function(){oe(),H(null)},ue="primary-search-account-menu",de=Object(n.jsxs)($a.a,{anchorEl:V,anchorOrigin:{vertical:"top",horizontal:"right"},id:ue,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:se,onClose:le,children:[Object(n.jsx)(Qa.a,{component:o.b,to:"/myaccount",onClick:le,children:T("AccountMenu.MyAccount")}),Object(n.jsx)(Qa.a,{onClick:function(){return ae(!1),Ea.logout(),le(),e.setLoginFormUsername(""),e.setLoginFormPassword(""),void ne.push("/login")},children:T("AccountMenu.Logout")}),Ra()?Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{}),Object(n.jsx)(Qa.a,{component:o.b,onClick:le,to:"/useraccounts",children:T("AccountMenu.UserAccounts")})]}):null]}),be=function(e){return null!==e?e.toFixed():null},pe="primary-search-account-menu-mobile",je=Object(n.jsxs)($a.a,{anchorEl:Y,anchorOrigin:{vertical:"top",horizontal:"right"},id:pe,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:ie,onClose:oe,children:[Object(n.jsxs)(Qa.a,{children:[Object(n.jsx)(Ka.a,{badgeContent:"".concat(be(e.hardwareUsage.cpuUsage),"%"),color:"primary",children:Object(n.jsx)(S.a,{"aria-label":"cpu usage",color:"inherit",className:c.hardwareUsage,children:Object(n.jsx)(Ha.a,{icon:Ja.c})})}),Object(n.jsx)("p",{children:"CPU"})]}),Object(n.jsxs)(Qa.a,{children:[Object(n.jsx)(Ka.a,{badgeContent:"".concat(be(e.hardwareUsage.cpuTemperature),"\xb0C"),color:"primary",children:Object(n.jsx)(S.a,{"aria-label":"cpu temperature",color:"inherit",className:c.hardwareUsage,children:Object(n.jsx)(Ha.a,{icon:Ja.d})})}),Object(n.jsx)("p",{children:"TEMP"})]}),Object(n.jsxs)(Qa.a,{children:[Object(n.jsx)(Ka.a,{badgeContent:"".concat(be(e.hardwareUsage.ramUsage),"%"),color:"primary",children:Object(n.jsx)(S.a,{"aria-label":"memory usage",color:"inherit",className:c.hardwareUsage,children:Object(n.jsx)(Ha.a,{icon:Ja.b})})}),Object(n.jsx)("p",{children:"MEM"})]}),Object(n.jsxs)(Qa.a,{children:[Object(n.jsx)(Ka.a,{badgeContent:"".concat(be(e.hardwareUsage.diskUsage),"%"),color:"primary",children:Object(n.jsx)(S.a,{"aria-label":"space usage",color:"inherit",className:c.hardwareUsage,children:Object(n.jsx)(Ha.a,{icon:Ja.a})})}),Object(n.jsx)("p",{children:"DISK"})]}),Object(n.jsx)(y.a,{}),Object(n.jsxs)(Qa.a,{onClick:ce,children:[Object(n.jsx)(S.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(n.jsx)(Xa.a,{})}),Object(n.jsx)("p",{children:T("AccountMenu.Profile")})]})]});return Object(n.jsx)("div",{className:c.root,children:Object(n.jsxs)(_.d,{children:[Object(n.jsx)(_.b,{path:"/login",render:function(){return Object(n.jsx)(bn,{})}}),Object(n.jsx)(fn,{path:"/",children:Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(x.a,{}),Object(n.jsx)(h.a,{position:"fixed",className:Object(j.a)(c.appBar,Object(p.a)({},c.appBarShift,g)),children:Object(n.jsxs)(O.a,{children:[Object(n.jsx)(S.a,{color:"inherit","aria-label":"open drawer",onClick:function(){C(!0)},edge:"start",className:Object(j.a)(c.menuButton,(t={},Object(p.a)(t,c.hide,g),Object(p.a)(t,c.hide,P),t)),children:Object(n.jsx)(D.a,{})}),Object(n.jsx)(w.a,{variant:"h6",noWrap:!0,className:c.title,children:"SidiroIOT"}),Object(n.jsxs)("div",{className:c.sectionDesktop,children:[Object(n.jsx)(w.a,{variant:"body1",children:"CPU"}),Object(n.jsx)(On,{value:e.hardwareUsage.cpuUsage,unit:"%"}),Object(n.jsx)(w.a,{variant:"body1",children:"TEMP"}),Object(n.jsx)(On,{value:e.hardwareUsage.cpuTemperature,unit:"\xb0C"}),Object(n.jsx)(w.a,{variant:"body1",children:"MEM"}),Object(n.jsx)(On,{value:e.hardwareUsage.ramUsage,unit:"%"}),Object(n.jsx)(w.a,{variant:"body1",children:"DISK"}),Object(n.jsx)(On,{value:e.hardwareUsage.diskUsage,unit:"%"})]}),Object(n.jsx)(S.a,{className:c.loginButton,edge:"end","aria-label":"account of current user","aria-controls":ue,"aria-haspopup":"true",onClick:ce,color:"inherit",children:Object(n.jsx)(Xa.a,{})}),Object(n.jsx)("div",{className:c.sectionMobile,children:Object(n.jsx)(S.a,{"aria-label":"show more","aria-controls":pe,"aria-haspopup":"true",onClick:function(e){X(e.currentTarget)},color:"inherit",children:Object(n.jsx)(qa.a,{})})})]})}),je,de,Object(n.jsxs)(f.a,{variant:"permanent",className:Object(j.a)(c.drawer,(a={},Object(p.a)(a,c.drawerOpen,g),Object(p.a)(a,c.drawerClose,!g),a)),classes:{paper:Object(j.a)((i={},Object(p.a)(i,c.drawerOpen,g),Object(p.a)(i,c.drawerClose,!g),i))},children:[Object(n.jsx)("div",{className:c.toolbar,children:Object(n.jsx)(S.a,{onClick:function(){C(!1)},children:"rtl"===l.direction?Object(n.jsx)(A.a,{}):Object(n.jsx)(k.a,{})})}),Object(n.jsx)(y.a,{}),Object(n.jsxs)(v.a,{children:[Object(n.jsxs)(I.a,{button:!0,component:o.b,to:"/",selected:"/"===re.pathname,children:[Object(n.jsx)(E.a,{children:Object(n.jsx)(G.a,{})}),Object(n.jsx)(U.a,{primary:T("Drawer.Devices")})]}),Object(n.jsxs)(I.a,{button:!0,component:o.b,to:"/settings",selected:"/settings"===re.pathname,children:[Object(n.jsx)(E.a,{children:Object(n.jsx)(tn.a,{})}),Object(n.jsx)(U.a,{primary:T("Drawer.Settings")})]}),Object(n.jsx)(y.a,{}),Object(n.jsxs)(I.a,{button:!0,onClick:function(){return e.setLanguageDialogOpen(!0)},children:[Object(n.jsx)(E.a,{children:Object(n.jsx)(L.a,{})}),Object(n.jsx)(U.a,{primary:T("Drawer.Language")})]})]})]}),Object(n.jsxs)("main",{className:c.content,children:[Object(n.jsx)("div",{className:c.toolbar}),Object(n.jsx)(Va,{})]}),Object(n.jsxs)(M.a,{showLabels:!1,className:c.bottomNavi,value:Q,children:[Object(n.jsx)(z.a,{value:"/",label:T("Drawer.Devices"),icon:Object(n.jsx)(G.a,{}),component:o.b,to:"/"}),Object(n.jsx)(z.a,{value:"/settings",label:T("Drawer.Settings"),icon:Object(n.jsx)(R.a,{}),component:o.b,to:"/settings"}),Object(n.jsx)(z.a,{label:T("Drawer.Language"),icon:Object(n.jsx)(L.a,{}),onClick:function(){return e.setLanguageDialogOpen(!0)}})]})]})})]})})})),Cn=a(68),Dn={open:!1},Tn={},kn={selectedDeviceIndex:0,selectedDeviceID:"",selectedDeviceType:""},Pn={username:"",usernameError:!1,password:"",passwordError:!1},An={currentPassword:"",newPassword:""},In={cpuUsage:0,cpuTemperature:0,ramUsage:0,diskUsage:0},En={authed:!1},Un={open:!1,type:"create",name:"",nameError:!1,password:"",passwordError:!1,newPassword:"",editAccountId:"",permissions:1},Nn={accountsList:[]},Ln={text:"",severity:"",shown:!1},Fn={open:!1,username:"",id:""},Rn={devices:[],tableView:"simple"},_n={file:null,ipconfig:{}},Bn={open:!1},Mn={name:"",open:!1,ipAddress:"",subnetMask:"",gateway:"",dhcp:!1,dnsPrimary:"",dnsSecondary:""},zn=Object(Cn.b)({LanguageDialogReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ga:return Object(b.a)(Object(b.a)({},e),{},{open:t.open});default:return e}},UniversalTabsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return Object(b.a)(Object(b.a)({},e),{},Object(p.a)({},t.name,t.index));default:return e}},DevicesListReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Object(b.a)(Object(b.a)({},e),{},{selectedDeviceIndex:t.deviceIndex,selectedDeviceID:t.deviceID,selectedDeviceType:t.deviceType});default:return e}},LoginPageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nn:return Object(b.a)(Object(b.a)({},e),{},{username:t.username});case rn:return Object(b.a)(Object(b.a)({},e),{},{password:t.password});case sn:return Object(b.a)(Object(b.a)({},e),{},{usernameError:t.error});case cn:return Object(b.a)(Object(b.a)({},e),{},{passwordError:t.error});default:return e}},AccountPageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt:return Object(b.a)(Object(b.a)({},e),{},{currentPassword:t.password});case Gt:return Object(b.a)(Object(b.a)({},e),{},{newPassword:t.password});default:return e}},HardwareUsageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pn:return Object(b.a)(Object(b.a)({},e),{},{cpuUsage:t.cpuUsage,cpuTemperature:t.cpuTemperature,ramUsage:t.ramUsage,diskUsage:t.diskUsage});default:return e}},AuthenticationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _a:return Object(b.a)(Object(b.a)({},e),{},{authed:t.authenticated});default:return e}},CreateAccountDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pa:return Object(b.a)(Object(b.a)({},e),{},{open:t.open,type:t.dialogType?t.dialogType:e.type});case ja:return Object(b.a)(Object(b.a)({},e),{},{name:t.name});case ma:return Object(b.a)(Object(b.a)({},e),{},{password:t.password});case ha:return Object(b.a)(Object(b.a)({},e),{},{permissions:t.permissions});case ga:return Object(b.a)(Object(b.a)({},e),{},{nameError:t.error});case fa:return Object(b.a)(Object(b.a)({},e),{},{passwordError:t.error});case Oa:return Object(b.a)(Object(b.a)({},e),{},{newPassword:t.newpassword});case va:return Object(b.a)(Object(b.a)({},e),{},{editAccountId:t.id});default:return e}},UserAccountsPageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case la:return Object(b.a)(Object(b.a)({},e),{},{accountsList:t.list});default:return e}},SnackbarReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(b.a)(Object(b.a)({},e),{},{text:t.text,severity:t.severity});case ue:return Object(b.a)(Object(b.a)({},e),{},{shown:t.shown});default:return e}},ConfirmDeleteUserDialogReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ka:return Object(b.a)(Object(b.a)({},e),{},{open:t.open});case Pa:return Object(b.a)(Object(b.a)({},e),{},{username:t.username,id:t.id});default:return e}},DevicesSelectionPageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:return Object(b.a)(Object(b.a)({},e),{},{devices:t.devices});case rt:return Object(b.a)(Object(b.a)({},e),{},{devices:e.devices.map((function(e){return t.params.id===Object.entries(e)[0][0]?Object(p.a)({},t.params.id,t.params):e}))});case st:return Object(b.a)(Object(b.a)({},e),{},{tableView:"simple"===e.tableView?"advanced":"simple"});default:return e}},SettingsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(b.a)(Object(b.a)({},e),{},{file:t.file});case X:return Object(b.a)(Object(b.a)({},e),{},{ipconfig:t.ipconfig});default:return e}},BackdropReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(b.a)(Object(b.a)({},e),{},{open:!0});case je:return Object(b.a)(Object(b.a)({},e),{},{open:!1});default:return e}},IPConfigReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return Object(b.a)(Object(b.a)({},e),{},{open:t.open,name:t.interfaceName?t.interfaceName:""});case Ce:return Object(b.a)(Object(b.a)({},e),{},{ipAddress:void 0!==t.ipAddress?t.ipAddress:""});case De:return Object(b.a)(Object(b.a)({},e),{},{subnetMask:void 0!==t.subnetMask?t.subnetMask:""});case Te:return Object(b.a)(Object(b.a)({},e),{},{gateway:void 0!==t.gateway?t.gateway:""});case ke:return Object(b.a)(Object(b.a)({},e),{},{dhcp:t.dhcp});case Pe:return Object(b.a)(Object(b.a)({},e),{},{dnsPrimary:void 0!==t.dnsPrimary?t.dnsPrimary:""});case Ae:return Object(b.a)(Object(b.a)({},e),{},{dnsSecondary:void 0!==t.dnsSecondary?t.dnsSecondary:""});default:return e}}}),Vn=a(117),Gn=a(82),Wn=a(161),Hn={order:["querystring","cookie","localStorage","navigator","htmlTag","path","subdomain"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupFromPathIndex:0,lookupFromSubdomainIndex:0,caches:["localStorage","cookie"],excludeCacheFor:["cimode"],htmlTag:document.documentElement,checkWhitelist:!0,checkForSimilarInWhitelist:!1,cookieOptions:{path:"/"}};Vn.a.use(Wn.a).use(Gn.e).init({resources:{en:{translation:{Drawer:{Devices:"Devices",Settings:"Settings",Language:"Language"},LanguageSelection:{Label:"Choose application language",PolishLanguage:"Polish",EnglishLanguage:"English"},DevicesSelectionPage:{DatapointsTab:"Data points",EdgecomputingTab:"Edge computing",EventsTab:"Events",DevicesTitle:"Devices",StatusConnected:"Connected",StatusDisconnected:"Disconnected",Status:"Status",Connect:"Connect",Disconnect:"Disconnect",StatusOnboarded:"Onboarded",StatusOffboarded:"Offboarded",RefreshAllDevices:"Refresh all devices",ToggleTableView:"Toggle table view",Properties:{id:"ID",name:"Name",type:"Type",ipAddress:"IP Address",portNumber:"Port",timeout:"Timeout",isActive:"Active",isConnected:"Connected",deviceId:"Device ID",unit:"Unit",sampleTime:"Sample time",defaultValue:"Default value",offset:"Offset",length:"Length",read:"Read",write:"Write",readFCode:"Read FCode",writeFCode:"Write FCode",unitID:"Unit ID",readAsSingle:"Read as single",writeAsSingle:"Write as single",value:"Value",variableID:"Variable ID",factor:"Factor",calculationInterval:"Calculation interval",highLimit:"High limit",texts:"Texts",severity:"Severity",hysteresis:"Hysteresis",timeOnDelay:"Time on delay",timeOffDelay:"Time off delay",areaType:"Area type",dbNumber:"DB number",lowLimit:"Low limit",slot:"Slot",rack:"Rack",overflow:"Overflow",inverseLogic:"Inverse logic",AssociatedDeviceId:"Associated device ID",AssociatedElementId:"Associated element ID",variableIDs:"Variable IDs",alertValues:"Alert values",datapoint:"Datapoint",valueConverterObject:"Value converter object",sendingEnabled:"Sending enabled",sendFileLimit:"Send file limit",sendEventLimit:"Send event limit",sendingInterval:"Sending interval",numberOfSendRetries:"Number of send retries",boarded:"Boarded",lastValueTick:"Last value tick",elementId:"Element ID",qualityCodeEnabled:"Quality code enabled",datapointId:"Datapoint ID",dataConverter:"Data converter",entityId:"Entity ID",sourceType:"Source type",sourceId:"Source ID",source:"Source",sendDataFileInterval:"Send data file interval",sendEventFileInterval:"Send event file interval",dataStorageSize:"Data storage size",eventStorageSize:"Event storage size",numberOfDataFilesToSend:"Number of data files to send",numberOfEventFilesToSend:"Number of event files to send",numberOfSendDataRetries:"Number of send data retries",numberOfSendEventRetries:"Number of send event retries",memoryType:"Memory type",bitNumber:"Bit number",byteNumber:"Byte number",expression:"Expression",parameters:"Parameters",FactorCalculator:"Factor calculator",AverageCalculator:"Average calculator",IncreaseCalculator:"Increase calculator",SumCalculator:"Sum calculator",ValueFromByteArrayCalculator:"Value from Byte array calculator",ExpressionCalculator:"Expression calculator",S7Device:"S7 Device",MBDevice:"MB Device",InternalDevice:"Internal device",MSAgentDevice:"MS Agent device",BandwidthLimitAlert:"Bandwidth limit alert",ExactValuesAlert:"Exact values alert",HighLimitAlert:"High limit alert",LowLimitAlert:"Low limit alert",MBBoolean:"MB Boolean",MBByteArray:"MB Byte Array",MBFloat:"MB Float",MBDouble:"MB Double",MBUInt32:"MB UInt32",MBUInt16:"MBUInt16",MBInt32:"MBInt32",MBInt16:"MBInt16",MBSwappedInt32:"MB Swapped Int32",MBSwappedUInt32:"MB Swapped Uint32",MBSwappedFloat:"MB Swapped Float",MBSwappedDouble:"MB Swapped Double",eventsToSendConfig:"Events to send",dataToSendConfig:"Data to send",LastCycleDurationVariable:"Last cycle duration",CPULoadVariable:"CPU load",S7Int:"S7 Int",S7DInt:"S7 DInt",S7SInt:"S7 SInt",S7UInt:"S7 UInt",S7UDInt:"S7 UDInt",S7USInt:"S7 USInt",S7Real:"S7 Real",S7DTL:"S7 DTL",S7ByteArray:"S7 Byte Array"},Tabs:{calcElements:"Edge computing",variables:"Variables",alerts:"Alerts",info:"Info",datapoints:"Datapoints",dataToSendConfig:"Data to send",eventsToSendConfig:"Events to send"}},UniversalTable:{RowsPerPage:"Rows per page",Of:"of"},SettingsPage:{Title:"Settings",LoadButton:"Download settings file",DropzoneText:"Drag & drop or click to upload a file",UploadFile:"Load file",RemoveFile:"Remove file",FileName:"Name",FileSize:"Size",IPConfigTitle:"IP configuration",NetworkInterfaces:"Network interfaces",Edit:"Edit",IPAddress:"IP Address",SubnetMask:"Subnet mask",Gateway:"Gateway",DHCPTrue:"Yes",DHCPFalse:"No"},LoginPage:{LoginTitle:"Please log in",LoginButton:"Login",FormLoginTextField:"Login",FormPasswordTextField:"Password",InvalidLoginPassword:"Invalid login/password combination",FormLoginTextFieldHelperText:"At least 3 characters",FormPasswordTextFieldHelperText:"At least 8 characters",Language:"Language"},AccountMenu:{MyAccount:"My Account",Logout:"Sign out",Profile:"Profile",UserAccounts:"User accounts"},AccountPage:{Title:"Account settings",NameTextField:"Name",CurrentPasswordTextField:"Current password",NewPasswordTextField:"New password",ChangePasswordButton:"Change password",PasswordHelperError8characters:"Password must consist of at least 8 characters",PasswordHelperErrorSamePasswords:"Current password and new password can't be the same",Permissions:"Permissions"},CreateAccountDialog:{TitleCreate:"Create new account",TitleEdit:"Edit account",Cancel:"Cancel",Create:"Create",Update:"Update",NameTextField:"Name",PasswordTextField:"Password",NewPasswordTextField:"New password",PermissionsSelect:"Permissions",HelperTextName:"At least 3 characters",HelperTextPassword:"At least 8 characters",AccountBeingEditedSubtitle:"You are editing the following account: "},UserAccountsPage:{CreateUser:"Create user",NameColumn:"Name",PermissionsColumn:"Permissions",ActionColumn:"Actions",TooltipDelete:"Delete",TooltipEdit:"Edit"},Snackbar:{SuccessfulUserCreation:"User created successfully",SuccessfulUserDeletion:"User deleted successfully",SuccessfulUserEdit:"User edited successfully",SuccessfulPasswordChange:"Password changed successfully",UnsuccessfulPasswordChange:"Current password is invalid",UnsuccessfulUserEdit:"User editing failed",SuccessfulFileUpload:"File sent successfully",UnsuccessfulFileUpload403:"Only admin type accounts have permission to send configuration file",UnsuccessfulFileUpload400:"Invalid file contents",UnknownError:"Unknown error occured. Try again.",Generic403:"Access forbidden",LoginFailed:"Login/password combination is invalid",SuccessfulIPConfig:"IP Configuration changed successfully",UnsuccessfulIPConfig:"Entered data is invalid. Try again."},ConfirmDeleteUserDialog:{Title:"Please confirm deletion. The process is irreversible.",AccountToBeDeleted:"The following account is going to be deleted: ",Confirm:"Confirm",Cancel:"Cancel"},IPConfigDialog:{DNSPrimary:"Primary DNS",DNSSecondary:"Secondary DNS",DisconnectionWarningDhcpFalse:"You'll lose connection with device and application after changing IP address. We'll try to forward you to new one automatically.",DisconnectionWarningDhcpTrue:"You'll lose connection with device and application after changing IP address. Your router will allocate IP address automatically, which will then be necessary to enter in browser's address bar.",CurrentHostnameText:"Current device/application IP address",ConfirmButton:"Confirm",CancelButton:"Cancel"}}},pl:{translation:{Drawer:{Devices:"Urz\u0105dzenia",Settings:"Ustawienia",Language:"J\u0119zyk"},LanguageSelection:{Label:"Wybierz j\u0119zyk aplikacji",PolishLanguage:"Polski",EnglishLanguage:"Angielski"},DevicesSelectionPage:{DatapointsTab:"Data pointy",EdgecomputingTab:"Edge computing",EventsTab:"Zdarzenia",DevicesTitle:"Urz\u0105dzenia",StatusConnected:"Po\u0142\u0105czony",StatusDisconnected:"Roz\u0142\u0105czony",Status:"Stan",Connect:"Po\u0142\u0105cz",Disconnect:"Roz\u0142\u0105cz",RefreshAllDevices:"Od\u015bwie\u017c wszystkie urz\u0105dzenia",ToggleTableView:"Prze\u0142\u0105cz widok tabel",Tabs:{calcElements:"Edge computing",variables:"Zmienne",alerts:"Zdarzenia",info:"Informacje",datapoints:"Datapointy",dataToSendConfig:"Konfiguracja danych",eventsToSendConfig:"Konfiguracja zdarze\u0144"}},UniversalTable:{RowsPerPage:"Wierszy na stron\u0119",Of:"z"},SettingsPage:{Title:"Ustawienia",LoadButton:"Pobierz plik ustawie\u0144",DropzoneText:"Przeci\u0105gnij i upu\u015b\u0107 tutaj lub kliknij, aby wczyta\u0107 plik",UploadFile:"Wczytaj plik",RemoveFile:"Usu\u0144 plik",FileName:"Nazwa",FileSize:"Rozmiar",IPConfigTitle:"Konfiguracja IP",NetworkInterfaces:"Interfejsy sieciowe",Edit:"Edytuj",IPAddress:"Adres IP",SubnetMask:"Maska podsieci",Gateway:"Brama domy\u015blna",DHCPTrue:"Tak",DHCPFalse:"Nie"},LoginPage:{LoginTitle:"Zaloguj si\u0119",LoginButton:"Zaloguj",FormLoginTextField:"Login",FormPasswordTextField:"Has\u0142o",InvalidLoginPassword:"Nieprawid\u0142owa nazwa lub has\u0142o",FormLoginTextFieldHelperText:"Co najmniej 3 znaki",FormPasswordTextFieldHelperText:"Co najmniej 8 znak\xf3w",Language:"J\u0119zyk"},AccountMenu:{MyAccount:"Moje konto",Logout:"Wyloguj",Profile:"Profil",UserAccounts:"Konta u\u017cytkownik\xf3w"},AccountPage:{Title:"Ustawienia konta",NameTextField:"Nazwa",CurrentPasswordTextField:"Aktualne has\u0142o",NewPasswordTextField:"Nowe has\u0142o",ChangePasswordButton:"Zmie\u0144 has\u0142o",PasswordHelperError8characters:"Has\u0142o musi si\u0119 sk\u0142ada\u0107 z co najmniej 8 znak\xf3w",PasswordHelperErrorSamePasswords:"Nowe has\u0142o nie mo\u017ce by\u0107 takie same jak aktualne",Permissions:"Uprawnienia"},CreateAccountDialog:{TitleCreate:"Utw\xf3rz nowe konto",TitleEdit:"Edytuj konto",Cancel:"Anuluj",Create:"Utw\xf3rz",Update:"Aktualizuj",NameTextField:"Nazwa",PasswordTextField:"Has\u0142o",NewPasswordTextField:"Nowe has\u0142o",PermissionsSelect:"Uprawnienia",HelperTextName:"Co najmniej 3 znaki",HelperTextPassword:"Co najmniej 8 znak\xf3w",AccountBeingEditedSubtitle:"Edytujesz nast\u0119puj\u0105ce konto: "},UserAccountsPage:{CreateUser:"Utw\xf3rz u\u017cytkownika",NameColumn:"Nazwa",PermissionsColumn:"Uprawnienia",ActionColumn:"Akcje",TooltipDelete:"Usu\u0144",TooltipEdit:"Edytuj"},Snackbar:{SuccessfulUserCreation:"U\u017cytkownik pomy\u015blnie utworzony",SuccessfulUserDeletion:"U\u017cytkownik pomy\u015blnie usuni\u0119ty",SuccessfulUserEdit:"Edytowano pomy\u015blnie",SuccessfulPasswordChange:"Zmieniono has\u0142o pomy\u015blnie",UnsuccessfulPasswordChange:"Aktualne has\u0142o jest nieprawid\u0142owe",UnsuccessfulUserEdit:"Nie powiod\u0142a si\u0119 edycja u\u017cytkownika",SuccessfulFileUpload:"Pomy\u015blnie przes\u0142ano plik",UnsuccessfulFileUpload403:"Tylko konta admina maj\u0105 uprawnienia do wysy\u0142ania pliku konfiguracyjnego",UnsuccessfulFileUpload400:"Nieprawid\u0142owa zawarto\u015b\u0107 pliku",UnknownError:"Wyst\u0105pi\u0142 nieznany b\u0142\u0105d. Spr\xf3buj ponownie.",Generic403:"Brak uprawnie\u0144",LoginFailed:"Podany login i/lub has\u0142o s\u0105 nieprawid\u0142owe",SuccessfulIPConfig:"Konfiguracja IP przebieg\u0142a pomy\u015blnie",UnsuccessfulIPConfig:"Wprowadzone dane s\u0105 nieprawid\u0142owe. Spr\xf3buj ponownie."},ConfirmDeleteUserDialog:{Title:"Prosz\u0119 potwierdzi\u0107 usuni\u0119cie. Ten proces jest nieodwracalny.",AccountToBeDeleted:"Zostanie usuni\u0119te nast\u0119puj\u0105ce konto: ",Confirm:"Potwierd\u017a",Cancel:"Anuluj"},IPConfigDialog:{DNSPrimary:"Podstawowy DNS",DNSSecondary:"Alternatywny DNS",DisconnectionWarningDhcpFalse:"Po zmianie adresu IP stracisz po\u0142\u0105czenie z urz\u0105dzeniem i aplikacj\u0105 pod tym adresem. Spr\xf3bujemy Ci\u0119 automatycznie przekierowa\u0107 na nowy.",DisconnectionWarningDhcpTrue:"Po zmianie adresu IP stracisz po\u0142\u0105czenie z urz\u0105dzeniem i aplikacj\u0105 pod tym adresem. Tw\xf3j router automatycznie przydzieli nowy adres, kt\xf3ry nale\u017cy wprowadzi\u0107 w pasek adresu przegl\u0105darki by wznowi\u0107 po\u0142\u0105czenie.",CurrentHostnameText:"Aktualny adres IP urz\u0105dzenia/aplikacji",ConfirmButton:"Potwierd\u017a",CancelButton:"Anuluj"}}}},detection:Hn,fallbackLng:"en",keySeparator:".",interpolation:{escapeValue:!1}});Vn.a;var Jn=a(302),Kn=a(301),Yn=a(300),Xn=a(96),Zn=Object(g.a)({avatar:{backgroundColor:Xn.a[100],color:Xn.a[600]},title:{textAlign:"center"}});var qn={setLanguageDialogOpen:Wa},Qn=Object(K.b)((function(e){return{open:e.LanguageDialogReducer.open}}),qn)((function(e){var t=Zn(),a=Object(B.a)(),r=a.t,s=a.i18n,i=function(t){e.setLanguageDialogOpen(!1),s.changeLanguage(t)};return Object(n.jsxs)(Yn.a,{onClose:function(){return e.setLanguageDialogOpen(!1)},"aria-labelledby":"simple-dialog-title",open:e.open,fullWidth:!0,maxWidth:"sm",children:[Object(n.jsx)(Kn.a,{className:t.title,id:"simple-dialog-title",children:r("LanguageSelection.Label")}),Object(n.jsxs)(v.a,{children:[Object(n.jsxs)(I.a,{button:!0,onClick:function(){return i("pl")},children:[Object(n.jsx)(Jn.a,{children:Object(n.jsx)(Mt.a,{className:t.avatar,children:"PL"})}),Object(n.jsx)(U.a,{primary:r("LanguageSelection.PolishLanguage")})]}),Object(n.jsxs)(I.a,{button:!0,onClick:function(){return i("en")},children:[Object(n.jsx)(Jn.a,{children:Object(n.jsx)(Mt.a,{className:t.avatar,children:"EN"})}),Object(n.jsx)(U.a,{primary:r("LanguageSelection.EnglishLanguage")})]})]})]})})),$n=a(305),er=a(303),tr=a(304),ar=a(312),nr=a(289),rr=a(318),sr=Object(g.a)((function(e){return{formControl:{width:"100%"},selectEmpty:{marginTop:e.spacing(2)},form:{"& > *":{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}}));var ir={setCreateAccountDialogOpen:xa,setCreateAccountDialogNameTextfield:wa,setCreateAccountDialogPasswordTextfield:function(e){return{type:ma,password:e}},setCreateAccountDialogPermissionsSelect:ya,setCreateAccountDialogNameTextfieldError:function(e){return{type:ga,error:e}},setCreateAccountDialogPasswordTextfieldError:function(e){return{type:fa,error:e}},setSnackbarText:de,setSnackbarShown:be,setUserAccountsList:ua},cr=Object(K.b)((function(e){return{open:e.CreateAccountDialog.open,type:e.CreateAccountDialog.type,name:e.CreateAccountDialog.name,nameError:e.CreateAccountDialog.nameError,password:e.CreateAccountDialog.password,passwordError:e.CreateAccountDialog.passwordError,permissions:e.CreateAccountDialog.permissions,editAccountId:e.CreateAccountDialog.editAccountId}}),ir)((function(e){var t=e.open,a=e.type,r=e.name,s=e.nameError,i=e.password,c=e.passwordError,o=e.permissions,l=e.editAccountId,u=e.setCreateAccountDialogOpen,d=e.setCreateAccountDialogNameTextfield,b=e.setCreateAccountDialogPasswordTextfield,p=e.setCreateAccountDialogPermissionsSelect,j=e.setCreateAccountDialogNameTextfieldError,g=e.setCreateAccountDialogPasswordTextfieldError,m=e.setSnackbarShown,f=e.setSnackbarText,h=e.setUserAccountsList,O=sr(),v=Object(B.a)().t,x=Object(_.g)(),w=function(e){var t=e.target.value,a=e.target.name;g(!1),j(!1),"name"===a?d(t):"password"===a?b(t):"newpassword"===a||p(t)};return Object(n.jsxs)(Yn.a,{open:t,onClose:function(){return u(!1)},"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(Kn.a,{id:"form-dialog-title",children:v("create"===a?"CreateAccountDialog.TitleCreate":"CreateAccountDialog.TitleEdit")}),Object(n.jsxs)(er.a,{children:["edit"===a?Object(n.jsxs)(tr.a,{children:[v("CreateAccountDialog.AccountBeingEditedSubtitle"),Object(n.jsx)("strong",{children:r})]}):null,Object(n.jsx)("form",{className:O.form,children:null!==Ea.getCurrentUser()?Object(n.jsxs)("div",{children:[Object(n.jsx)(Bt.a,{disabled:"edit"===a,error:s,helperText:v(s?"LoginPage.InvalidLoginPassword":"LoginPage.FormLoginTextFieldHelperText"),onChange:w,name:"name",value:r,autoFocus:!0,margin:"dense",id:"name",label:v("CreateAccountDialog.NameTextField"),type:"text",fullWidth:!0}),Object(n.jsx)(Bt.a,{error:c,helperText:v(c?"LoginPage.InvalidLoginPassword":"LoginPage.FormPasswordTextFieldHelperText"),onChange:w,autoComplete:"off",value:i,name:"password",margin:"dense",id:"password",label:v("CreateAccountDialog.PasswordTextField"),type:"password",fullWidth:!0}),Object(n.jsxs)(nr.a,{className:O.formControl,children:[Object(n.jsx)(rr.a,{id:"permissions",children:v("CreateAccountDialog.PermissionsSelect")}),Object(n.jsxs)(ar.a,{fullWidth:!0,labelId:"permissions",id:"permissions-select",name:"permissions",value:o,onChange:w,children:[Ea.getCurrentUser().permissions>=3?Object(n.jsx)(Qa.a,{value:1,children:"User"}):null,7===Ea.getCurrentUser().permissions?Object(n.jsx)(Qa.a,{value:3,children:"Admin"}):null,7===Ea.getCurrentUser().permissions?Object(n.jsx)(Qa.a,{value:7,children:"SuperAdmin"}):null]})]})]}):null})]}),Object(n.jsxs)($n.a,{children:[Object(n.jsx)(te.a,{onClick:function(){return u(!1),b(""),void d("")},color:"primary",children:v("CreateAccountDialog.Cancel")}),Object(n.jsx)(te.a,{disabled:function(){if("edit"===a){if(i.length>0&&i.length<8)return!0}else if(i.length<8||r.length<3)return!0;return!1}(),onClick:function(){return"edit"===a?void Ht.editAccount(l,r,o,""!==i&&i).then((function(e){200===e.status?(f(v("Snackbar.SuccessfulUserEdit"),"success"),b(""),d(""),m(!0),u(!1),Ht.getAllAccounts().then((function(e){h(e.data)})),e._id===Ea.getCurrentUser()._id&&(Ea.logout(),x.push("/login"))):403===e.status?(f(v("Snackbar.Generic403"),"error"),m(!0)):(f(v("Snackbar.UnknownError"),"error"),m(!0))})):void Ht.register(r,i,o).then((function(e){200===e.status?(f(v("Snackbar.SuccessfulUserCreation"),"success"),m(!0),b(""),d(""),u(!1),Ht.getAllAccounts().then((function(e){h(e.data)}))):403===e.status?(f(v("Snackbar.Generic403"),"error"),m(!0),b(""),d(""),u(!1)):(j(!0),g(!0))}))},color:"primary",children:v("create"===a?"CreateAccountDialog.Create":"CreateAccountDialog.Update")})]})]})})),or=a(314),lr=a(310);function ur(e){return Object(n.jsx)(lr.a,Object(b.a)({elevation:6,variant:"filled"},e))}var dr=Object(g.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));var br={setSnackbarShown:be},pr=Object(K.b)((function(e){return{text:e.SnackbarReducer.text,shown:e.SnackbarReducer.shown,severity:e.SnackbarReducer.severity}}),br)((function(e){var t=dr(),a=function(t,a){"clickaway"!==a&&e.setSnackbarShown(!1)};return Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(or.a,{open:e.shown,autoHideDuration:5e3,onClose:a,children:Object(n.jsx)(ur,{onClose:a,severity:e.severity,children:e.text})})})}));var jr={setConfirmDeleteUserDialogOpen:Aa,setConfirmDeleteUserDialogUsername:Ia,setUserAccountsList:ua,setSnackbarText:de,setSnackbarShown:be},gr=Object(K.b)((function(e){return{open:e.ConfirmDeleteUserDialogReducer.open,accountNameToBeDeleted:e.ConfirmDeleteUserDialogReducer.username,accountIdToBeDeleted:e.ConfirmDeleteUserDialogReducer.id}}),jr)((function(e){var t=Object(B.a)().t,a=Object(_.g)();return Object(n.jsxs)(Yn.a,{open:e.open,onClose:function(){return e.setConfirmDeleteUserDialogOpen(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(Kn.a,{id:"alert-dialog-title",children:t("ConfirmDeleteUserDialog.Title")}),Object(n.jsx)(er.a,{children:Object(n.jsxs)(tr.a,{id:"alert-dialog-description",children:[t("ConfirmDeleteUserDialog.AccountToBeDeleted"),Object(n.jsx)("strong",{children:e.accountNameToBeDeleted})]})}),Object(n.jsxs)($n.a,{children:[Object(n.jsx)(te.a,{onClick:function(){Ht.deleteAccount(e.accountIdToBeDeleted).then((function(n){200===n.status?(e.setConfirmDeleteUserDialogOpen(!1),e.setSnackbarText(t("Snackbar.SuccessfulUserDeletion")),e.setSnackbarShown(!0),e.accountIdToBeDeleted===Ea.getCurrentUser()._id?(Ea.logout(),a.push("/login")):Ht.getAllAccounts().then((function(t){e.setUserAccountsList(t.data)}))):403===n.status?(e.setConfirmDeleteUserDialogOpen(!1),e.setSnackbarText(t("Snackbar.Generic403")),e.setSnackbarShown(!0)):(e.setConfirmDeleteUserDialogOpen(!1),e.setSnackbarText(t("Snackbar.UnknownError")),e.setSnackbarShown(!0))}))},color:"secondary",children:t("ConfirmDeleteUserDialog.Confirm")}),Object(n.jsx)(te.a,{onClick:function(){return e.setConfirmDeleteUserDialogOpen(!1)},color:"primary",autoFocus:!0,children:t("ConfirmDeleteUserDialog.Cancel")})]})]})})),mr=a(216),fr=Object(g.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));var hr=Object(K.b)((function(e){return{open:e.BackdropReducer.open}}))((function(e){var t=e.open,a=fr();return Object(n.jsx)("div",{children:Object(n.jsx)(mr.a,{className:a.backdrop,open:t,children:Object(n.jsx)(hn.a,{color:"inherit"})})})})),Or=a(306),vr=a(307),xr=a(313),wr=Object(g.a)((function(e){return{formControl:{width:"100%"},form:{"& > *":{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},visible:{display:"inline-flex"},invisible:{display:"none"},disconnectionWarning:{color:"red"}}}));var yr={setSnackbarText:de,setSnackbarShown:be,setBackdropOpen:ge,setBackdropClosed:me,setIpConfigDialogOpen:Ie,setIpConfigDialogIpAddress:function(e){return{type:Ce,ipAddress:e}},setIpConfigDialogSubnetMask:function(e){return{type:De,subnetMask:e}},setIpConfigDialogGateway:function(e){return{type:Te,gateway:e}},setIpConfigDialogDHCP:function(e){return{type:ke,dhcp:e}},setIpConfigDialogDNSPrimary:function(e){return{type:Pe,dnsPrimary:e}},setIpConfigDialogDNSSecondary:function(e){return{type:Ae,dnsSecondary:e}},setIPConfiguration:q},Sr=Object(K.b)((function(e){return{open:e.IPConfigReducer.open,name:e.IPConfigReducer.name,ipAddress:e.IPConfigReducer.ipAddress,subnetMask:e.IPConfigReducer.subnetMask,gateway:e.IPConfigReducer.gateway,dhcp:e.IPConfigReducer.dhcp,dnsPrimary:e.IPConfigReducer.dnsPrimary,dnsSecondary:e.IPConfigReducer.dnsSecondary,ipConfig:e.SettingsReducer.ipconfig}}),yr)((function(e){var t=e.open,a=e.ipAddress,s=e.subnetMask,i=e.gateway,c=e.name,o=e.dhcp,l=e.dnsPrimary,u=e.dnsSecondary,d=e.ipConfig,p=e.setIpConfigDialogOpen,j=e.setIpConfigDialogIpAddress,g=e.setIpConfigDialogSubnetMask,m=e.setIpConfigDialogGateway,f=e.setIpConfigDialogDHCP,h=e.setIpConfigDialogDNSPrimary,O=e.setIpConfigDialogDNSSecondary,v=e.setBackdropOpen,x=e.setBackdropClosed,w=e.setSnackbarText,y=e.setSnackbarShown,S=e.setIPConfiguration;Object(r.useEffect)((function(){void 0!==d[c]&&(j(d[c].ipAddress),g(d[c].subnetMask),m(d[c].gateway),f(d[c].dhcp),void 0!==d[c].dns[0]&&h(d[c].dns[0]),void 0!==d[c].dns[1]&&O(d[c].dns[1]))}),[t,j,g,m,f,h,O,d,c]);var C=wr(),D=Object(B.a)().t,T=function(e){var t=e.target.value;switch(e.target.name){case"ip-address":j(t);break;case"subnet-mask":g(t);break;case"gateway":m(t);break;case"dhcp":f(e.target.checked);break;case"dns-primary":h(t);break;case"dns-secondary":O(t)}},k=function(){var e,t,n={name:c,dhcp:o,dns:[]};""!==l&&(n=Object(b.a)(Object(b.a)({},n),{},{dns:[].concat(Object(Le.a)(n.dns),[l])})),""!==u&&(n=Object(b.a)(Object(b.a)({},n),{},{dns:[].concat(Object(Le.a)(n.dns),[u])})),!1===o&&(n=Object(b.a)(Object(b.a)({},n),{},{ipAddress:a,subnetMask:s,gateway:i})),(e=he.setIpConfig(c,n),t=1e4,p(!1),v(),new Promise((function(a,n){setTimeout((function(){n(new Error("Data fetch failed in "+t+" ms"))}),t),e.then((function(e){a(e)}),(function(e){n(e)}))}))).then((function(e){he.getIpConfig().then((function(e){200===e.status&&S(e.data)})),x(),200===e.status?(w(D("Snackbar.SuccessfulIPConfig"),"success"),y(!0)):400===e.status?(w(D("Snackbar.UnsuccessfulIPConfig"),"error"),y(!0)):(w(D("Snackbar.UnknownError"),"error"),y(!0))})).catch((function(){!0!==o?window.location.href="http://".concat(a,":").concat(window.location.port):window.location.reload()}))};return Object(n.jsx)("div",{children:Object(n.jsxs)(Yn.a,{open:t,onClose:function(){return p(!1)},"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(Kn.a,{id:"form-dialog-title",children:"Change configuration"}),Object(n.jsxs)(er.a,{children:[Object(n.jsx)(tr.a,{className:C.disconnectionWarning,children:D(!1===o?"IPConfigDialog.DisconnectionWarningDhcpFalse":"IPConfigDialog.DisconnectionWarningDhcpTrue")}),Object(n.jsx)(tr.a,{children:"".concat(D("IPConfigDialog.CurrentHostnameText"),": ").concat(window.location.origin)}),Object(n.jsx)("form",{className:C.form,children:Object(n.jsxs)("div",{children:[Object(n.jsx)(Or.a,{row:!0,children:Object(n.jsx)(vr.a,{control:Object(n.jsx)(xr.a,{checked:o,onChange:T,name:"dhcp"}),label:"DHCP"})}),Object(n.jsx)(Bt.a,{className:o?C.invisible:C.visible,autoFocus:!0,value:a,margin:"dense",id:"ip-address",name:"ip-address",label:D("SettingsPage.IPAddress"),type:"text",onChange:T,fullWidth:!0}),Object(n.jsx)(Bt.a,{className:o?C.invisible:C.visible,value:s,margin:"dense",id:"subnet-mask",name:"subnet-mask",label:D("SettingsPage.SubnetMask"),type:"text",onChange:T,fullWidth:!0}),Object(n.jsx)(Bt.a,{className:o?C.invisible:C.visible,value:i,margin:"dense",id:"gateway",name:"gateway",label:D("SettingsPage.Gateway"),type:"text",onChange:T,fullWidth:!0}),Object(n.jsx)(Bt.a,{value:l,margin:"dense",id:"dns-primary",name:"dns-primary",label:D("IPConfigDialog.DNSPrimary"),type:"text",onChange:T,fullWidth:!0}),Object(n.jsx)(Bt.a,{value:u,margin:"dense",id:"dns-secondary",name:"dns-secondary",label:D("IPConfigDialog.DNSSecondary"),type:"text",onChange:T,fullWidth:!0})]})})]}),Object(n.jsxs)($n.a,{children:[Object(n.jsx)(te.a,{onClick:function(){return p(!1)},color:"primary",children:D("IPConfigDialog.CancelButton")}),Object(n.jsx)(te.a,{onClick:function(){return k()},color:"primary",children:D("IPConfigDialog.ConfirmButton")})]})]})})})),Cr=Object(Cn.c)(zn),Dr=Object(l.a)({palette:{primary:{light:"#41aaaa",main:"#009999",dark:"#00646e",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#fff"}}});var Tr=function(){return Object(n.jsx)(s.a.Fragment,{children:Object(n.jsx)(u.a,{theme:Dr,children:Object(n.jsxs)(K.a,{store:Cr,children:[Object(n.jsx)(o.a,{children:Object(n.jsx)(Sn,{})}),Object(n.jsx)(cr,{}),Object(n.jsx)(gr,{}),Object(n.jsx)(Qn,{}),Object(n.jsx)(Sr,{}),Object(n.jsx)(pr,{}),Object(n.jsx)(hr,{})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(Tr,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[212,1,2]]]);
//# sourceMappingURL=main.0d03fde2.chunk.js.map