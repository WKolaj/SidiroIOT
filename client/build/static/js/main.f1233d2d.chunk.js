(this["webpackJsonpsidiro-iot"]=this["webpackJsonpsidiro-iot"]||[]).push([[0],{138:function(e,t,n){var a=n(127),r=[];e.exports=function(){var e=new Worker(n.p+"3205fa68b09a77991a63.worker.js",{name:"[hash].worker.js"});return a(e,r),e}},143:function(e,t,n){var a=n(127),r=[];e.exports=function(){var e=new Worker(n.p+"3b693e3ceeda33523431.worker.js",{name:"[hash].worker.js"});return a(e,r),e}},187:function(e,t,n){},188:function(e,t,n){},204:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),s=n(13),o=n.n(s),i=(n(187),n(188),n(30)),l=n(151),u=n(291),d=n(22),j=n(7),b=n(15),p=n(4),g=n(251),h=n(19),O=n(301),m=n(258),f=n(275),x=n(255),v=n(282),w=n(69),S=n(280),D=n(262),C=n(144),y=n.n(C),T=n(147),k=n.n(T),P=n(146),A=n.n(P),E=n(207),U=n(256),N=n(257),I=n(77),L=n.n(I),F=n(149),R=n.n(F),_=n(23),M=n(297),z=n(283),B=n(284),W=n(111),H=n.n(W),G=n(276),J=n(253),V=n(152),K=n(16),X=n.n(K),Z=n(29),q=n(45),Q=n(46),Y="/api/configFile/",$=new(function(){function e(){Object(q.a)(this,e)}return Object(Q.a)(e,[{key:"uploadConfigFile",value:function(){var e=Object(Z.a)(X.a.mark((function e(t){var n,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.next=4,fetch(Y,{method:"POST",headers:{Accept:"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken},body:n});case 4:return a=e.sent,e.abrupt("return",{status:a.status});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadConfigFile",value:function(){var e=Object(Z.a)(X.a.mark((function e(){var t,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y,{method:"GET",headers:{Accept:"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken}});case 2:if(200!==(t=e.sent).status){e.next=10;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",{status:t.status,data:n});case 10:return e.abrupt("return",{status:t.status});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"saveFileAs",value:function(e,t){var n=document.createElement("a");document.body.appendChild(n),n.style="display: none";var a=JSON.stringify(e),r=new Blob([a],{type:"octet/stream"}),c=window.URL.createObjectURL(r);n.href=c,n.download=t,n.click(),window.URL.revokeObjectURL(c)}}]),e}()),ee="SET_SNACKBAR_TEXT",te="SET_SNACKBAR_SHOWN",ne=function(e,t){return{type:ee,text:e,severity:t}},ae=function(e){return{type:te,shown:e}},re=n(14),ce=Object(g.a)((function(e){return{dropzoneText:{color:"rgb(140 140 140)"}}}));var se={setSnackbarText:ne,setSnackbarShown:ae},oe=Object(re.b)(null,se)((function(e){var t=e.setSnackbarText,n=e.setSnackbarShown,c=ce(),s=Object(M.a)().t,o=Object(r.useCallback)((function(e){$.uploadConfigFile(e[0]).then((function(e){200===e.status?(t(s("Snackbar.SuccessfulFileUpload"),"success"),n(!0)):403===e.status?(t(s("Snackbar.UnsuccessfulFileUpload403"),"error"),n(!0)):400===e.status?(t(s("Snackbar.UnsuccessfulFileUpload400"),"error"),n(!0)):(t(s("Snackbar.UnknownError"),"error"),n(!0))}))}),[n,t,s]),i=Object(V.a)({onDrop:o,accept:"application/JSON"}),l=i.getRootProps,u=i.getInputProps,d=i.isDragActive,b=i.isDragAccept,p=i.isDragReject,g=Object(r.useMemo)((function(){return Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)({},{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"40px",borderWidth:2,borderRadius:2,borderColor:"rgb(187 187 187)",borderStyle:"dashed",backgroundColor:"rgb(255 255 255)",outline:"none",transition:"border .5s ease-in-out"}),d?{borderColor:"#2196f3"}:{}),b?{borderColor:"#00e676"}:{}),p?{borderColor:"#ff1744"}:{})}),[d,p,b]);return Object(a.jsx)("section",{className:"container",children:Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},l({style:g})),{},{className:"dropzone",children:[Object(a.jsx)("input",Object(j.a)({},u())),Object(a.jsx)(w.a,{variant:"body1",className:c.dropzoneText,children:s("SettingsPage.DropzoneText")})]}))})})),ie=n(254);var le={setSnackbarText:ne,setSnackbarShown:ae},ue=Object(re.b)(null,le)((function(e){var t=e.setSnackbarText,n=e.setSnackbarShown,r=Object(M.a)().t;return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(J.a,{container:!0,spacing:2,children:[Object(a.jsx)(J.a,{item:!0,xs:12,children:Object(a.jsx)(w.a,{variant:"h4",children:r("SettingsPage.Title")})}),Object(a.jsx)(J.a,{item:!0,xs:12,children:Object(a.jsx)(oe,{})}),Object(a.jsx)(J.a,{item:!0,xs:6,sm:6,md:4,lg:2,children:Object(a.jsx)(ie.a,{onClick:function(){$.downloadConfigFile().then((function(e){200===e.status?$.saveFileAs(e.data,"projectSettings.json"):403===e.status?(t(r("Snackbar.Generic403"),"error"),n(!0)):(t(r("Snackbar.UnknownError"),"error"),n(!0))}))},fullWidth:!0,variant:"contained",color:"primary",children:r("SettingsPage.LoadButton")})})]})})})),de=n(136),je=n.n(de),be="SELECT_DEVICE",pe=n(135),ge=n.n(pe),he=n(134),Oe=n.n(he),me=n(133),fe=n.n(me),xe=Object(g.a)((function(e){return{root:{width:"100%"},active:{color:"green"},inactive:{color:"red"}}}));var ve={selectDevice:function(e,t,n){return{type:be,deviceIndex:e,deviceID:t,deviceType:n}}},we=Object(re.b)((function(e){return{selectedDevice:e.DevicesListReducer,allDevices:e.DevicesSelectionPageReducer.devices}}),ve)((function(e){var t=xe(),n=e.allDevices,c=e.selectedDevice,s=e.selectDevice;return Object(r.useEffect)((function(){if(""===c.selectedDeviceID&&n.length>0){var e=Object.entries(n[0]);s(0,e[0][1].id,e[0][1].type)}}),[n,s,c.selectedDeviceID]),Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(x.a,{component:"nav","aria-label":"device selection",children:n.map((function(n,r){for(var s=Object.entries(n),o=function(){var n=Object(d.a)(l[i],2)[1],s=void 0!==n.isConnected?n.isConnected&&n.isActive:n.isActive;return{v:Object(a.jsxs)(E.a,{button:!0,selected:c.selectedDeviceIndex===r,onClick:function(){return e.selectDevice(r,n.id,n.type)},children:[Object(a.jsx)(U.a,{children:"MBDevice"===n.type?Object(a.jsx)(fe.a,{className:s?t.active:t.inactive}):"S7Device"===n.type?Object(a.jsx)(Oe.a,{className:s?t.active:t.inactive}):"InternalDevice"===n.type?Object(a.jsx)(ge.a,{className:s?t.active:t.inactive}):Object(a.jsx)(je.a,{className:s?t.active:t.inactive})}),Object(a.jsx)(N.a,{primary:n.id})]},r)}},i=0,l=s;i<l.length;i++){var u=o();if("object"===typeof u)return u.v}return null}))})})})),Se=n(66),De=n(294),Ce=n(259),ye=n(292),Te="SET_UNIVERSAL_TABS_NAME_INDEX";function ke(e){var t=e.children,n=e.value,r=e.index,c=Object(Se.a)(e,["children","value","index"]);return Object(a.jsx)("div",Object(j.a)(Object(j.a)({role:"tabpanel",hidden:n!==r,id:"scrollable-force-tabpanel-".concat(r),"aria-labelledby":"scrollable-force-tab-".concat(r)},c),{},{children:n===r&&Object(a.jsx)(ye.a,{p:1,children:t})}))}var Pe=Object(g.a)((function(e){return{root:{flexGrow:1,marginBottom:"20px"},defaultRoot:{flexGrow:1,width:"100%",marginBottom:"20px"},noElevation:{boxShadow:"unset"}}}));var Ae={setUniversalTabsNameIndex:function(e,t){return{type:Te,name:e,index:t}}},Ee=Object(re.b)((function(e){return{tabsInstance:e.UniversalTabsReducer}}),Ae)((function(e){var t=Pe();return Object(a.jsxs)("div",{className:e.defaultMargin?t.defaultRoot:t.root,children:[Object(a.jsx)(m.a,{position:"static",color:"default",className:t.noElevation,children:Object(a.jsx)(De.a,{value:e.tabsInstance[e.name]||0,onChange:function(t,n){return e.setUniversalTabsNameIndex(e.name,n)},variant:"scrollable",scrollButtons:"auto",indicatorColor:"secondary",textColor:"secondary","aria-label":"scrollable force tabs",children:e.tabs.map((function(e,t){return Object(a.jsx)(Ce.a,Object(j.a)({label:e.label},{id:"scrollable-force-tab-".concat(n=t),"aria-controls":"scrollable-force-tabpanel-".concat(n)}),"tab-".concat(t));var n}))})}),e.tabs.map((function(t,n){return Object(a.jsx)(ke,{value:e.tabsInstance[e.name]||0,index:n,children:t.content},"tabpanel-".concat(n))}))]})})),Ue="SET_ALL_DEVICES",Ne="REFRESH_DEVICE_PARAMS",Ie=n(137),Le=n(263),Fe=n(264),Re=n(266),_e=n(261),Me=n(267),ze=n(265),Be=n(260),We=n(155),He=n(102),Ge=n.n(He),Je=n(101),Ve=n.n(Je),Ke=Object(g.a)({root:{"& > *":{borderBottom:"unset"}}}),Xe=function(e){return"object"!==typeof e.value||null===e.value},Ze=function(e){return e.every(Xe)};function qe(e){Object(M.a)().t;var t=c.a.useState(!1),n=Object(d.a)(t,2),r=n[0],s=n[1],o=c.a.useState(null),i=Object(d.a)(o,2),l=i[0],u=i[1],j=Ke(),b=e.row,p=e.columns;c.a.useEffect((function(){var e=[];b.map((function(t,n){return"object"===typeof(a=t.value)&&null!==a?e.push({cell:t.value,index:n}):null;var a})),u(e)}),[b]);var g=function(e){var t,n=[],a=[],r=Object(Ie.a)(e);try{for(r.s();!(t=r.n()).done;){var c=Object(d.a)(t.value,2),s=c[0],o=c[1];n.push(s),a.push(JSON.stringify(o))}}catch(i){r.e(i)}finally{r.f()}return{rows:a,columns:n}};return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(Be.a,{className:j.root,children:[Object(a.jsx)(_e.a,{children:null!==l&&l.length>0?Object(a.jsx)(D.a,{"aria-label":"expand row",size:"small",onClick:function(){return s(!r)},children:r?Object(a.jsx)(Ve.a,{}):Object(a.jsx)(Ge.a,{})}):null}),b.map((function(e,t){return Object(a.jsx)(_e.a,{children:"boolean"===typeof e.value?e.value.toString():"object"===typeof e.value?Object(a.jsx)(D.a,{"aria-label":"expand row",size:"small",onClick:function(){return s(!r)},children:r?Object(a.jsx)(Ve.a,{}):Object(a.jsx)(Ge.a,{})}):e.value},t)}))]}),Object(a.jsx)(Be.a,{children:Object(a.jsx)(_e.a,{style:{paddingBottom:0,paddingTop:0},colSpan:b.length+1,children:Object(a.jsx)(Le.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)(ye.a,{margin:1,children:null!==l?l.map((function(e,t){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(w.a,{variant:"h6",gutterBottom:!0,component:"div",style:{marginTop:"20px"},children:p[e.index]}),Object(a.jsxs)(Fe.a,{size:"small","aria-label":"purchases",children:[Object(a.jsx)(ze.a,{children:Object(a.jsx)(Be.a,{children:g(Object.entries(e.cell)).columns.map((function(t,n){return Object(a.jsx)(_e.a,{style:{width:"".concat(100/Object.entries(e.cell).length,"%")},children:t},n)}))})}),Object(a.jsx)(Re.a,{children:Object(a.jsx)(Be.a,{children:g(Object.entries(l[t].cell)).rows.map((function(e){return Object(a.jsx)(_e.a,{children:e},e)}))})})]})]},t)})):null})})})})]})}function Qe(e){var t=Ke();return Object(a.jsx)(Be.a,{className:t.root,children:e.row.map((function(e,t){return Object(a.jsx)(_e.a,{children:"boolean"===typeof e.value?e.value.toString():"object"===typeof e.value?JSON.stringify(e.value):e.value},t)}))})}function Ye(e){return Object(a.jsx)(Me.a,{component:We.a,children:Object(a.jsxs)(Fe.a,{"aria-label":"collapsible table",children:[Object(a.jsx)(ze.a,{children:Object(a.jsxs)(Be.a,{children:[e.rows.length>0&&e.rows.filter(Ze).length<e.rows.length?Object(a.jsx)(_e.a,{}):null,e.columns.map((function(e,t){return Object(a.jsx)(_e.a,{children:e},t)}))]})}),Object(a.jsx)(Re.a,{children:e.rows.map((function(t,n){return e.rows.filter(Ze).length<e.rows.length?Object(a.jsx)(qe,{row:t,columns:e.columns},n):Object(a.jsx)(Qe,{row:t},n)}))})]})})}var $e,et=new(function(){function e(){Object(q.a)(this,e)}return Object(Q.a)(e,[{key:"getDevices",value:function(){var e=Object(Z.a)(X.a.mark((function e(){var t,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/api/device/"),{method:"GET",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken}});case 2:if(200!==(t=e.sent).status){e.next=10;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",{status:t.status,data:n});case 10:return e.abrupt("return",{status:t.status});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),tt=new(function(){function e(){Object(q.a)(this,e)}return Object(Q.a)(e,[{key:"activateDevice",value:function(){var e=Object(Z.a)(X.a.mark((function e(t,n){var a,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/api/activate/","/").concat(n),{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken},body:JSON.stringify({isActive:t})});case 2:if(200!==(a=e.sent).status){e.next=10;break}return e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",{status:a.status,data:r});case 10:return e.abrupt("return",{status:a.status});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()),nt=n(138),at=n.n(nt),rt=Object(g.a)((function(e){return{title:{marginBottom:e.spacing(3)},onboarded:{color:"green"},offboarded:{color:"red"}}}));var ct={setAllDevices:function(e){return{type:Ue,devices:e}},refreshDeviceParams:function(e){return{type:Ne,params:e}}},st=Object(re.b)((function(e){return{selectedDevice:e.DevicesListReducer,allDevices:e.DevicesSelectionPageReducer.devices,authenticated:e.AuthenticationReducer.authed}}),ct)((function(e){var t=rt(),n=Object(M.a)().t,s=e.setAllDevices,o=e.allDevices,i=e.selectedDevice,l=e.authenticated,u=e.refreshDeviceParams;Object(r.useEffect)((function(){et.getDevices().then((function(e){200===e.status&&s(function(e){for(var t=[],n=0,a=Object.entries(e);n<a.length;n++){var r=Object(d.a)(a[n],2),c=r[0],s=r[1];t.push(Object(b.a)({},c,s))}return t}(e.data))}))}),[s]),Object(r.useEffect)((function(){var e=function(e){var t=e.data;void 0!==t&&"RPC"!==t.type&&u(t)};return($e=at()()).addEventListener("message",(function(t){return e(t)})),function(){$e.postMessage({token:null,text:"stop"}),$e.removeEventListener("message",(function(t){return e(t)})),$e.terminate()}}),[u]),Object(r.useEffect)((function(){null!==$e&&(!1===l?$e.postMessage({token:null,text:"stop"}):$e.postMessage({token:JSON.parse(localStorage.getItem("user")).accessToken,text:"start",device:i.selectedDeviceID}))}),[l,i]);var j=function(e){for(var t=[],a=[],r=0,c=Object.entries(e);r<c.length;r++){for(var s=Object(d.a)(c[r],2)[1],o=[],i=0,l=Object.entries(s);i<l.length;i++){var u=Object(d.a)(l[i],2),j=u[0],b=u[1];t.includes(n("DevicesSelectionPage.Properties.".concat(j)))||t.push(n("DevicesSelectionPage.Properties.".concat(j))),isNaN(b)||b%1===0||!1===b||!0===b?"lastValueTick"===j?o.push({value:p(new Date(1e3*b)),belongsToColumn:n("DevicesSelectionPage.Properties.".concat(j))}):o.push({value:b,belongsToColumn:n("DevicesSelectionPage.Properties.".concat(j))}):o.push({value:parseFloat(b).toFixed(2),belongsToColumn:n("DevicesSelectionPage.Properties.".concat(j))})}a.push(o)}return{rows:a,columns:t}},p=function(e){var t=e.getHours()<10?"0".concat(e.getHours()):e.getHours(),n=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes(),a=e.getSeconds()<10?"0".concat(e.getSeconds()):e.getSeconds();return"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear(),", ").concat(t,":").concat(n,":").concat(a)},g=function(){return""!==i.selectedDeviceID&&void 0!==o[i.selectedDeviceIndex]?void 0!==o[i.selectedDeviceIndex][i.selectedDeviceID].isConnected?o[i.selectedDeviceIndex][i.selectedDeviceID].isActive&&o[i.selectedDeviceIndex][i.selectedDeviceID].isConnected:o[i.selectedDeviceIndex][i.selectedDeviceID].isActive:null},h=function(){return"MSAgentDevice"===i.selectedDeviceType?o[i.selectedDeviceIndex][i.selectedDeviceID].boarded:null},O=function(e,t){tt.activateDevice(e,t).then((function(e){200===e.status&&u(e.data)}))};return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(J.a,{container:!0,spacing:2,children:[Object(a.jsxs)(J.a,{item:!0,xs:12,sm:12,md:3,children:[Object(a.jsx)(w.a,{variant:"h4",className:t.title,children:n("DevicesSelectionPage.DevicesTitle")}),Object(a.jsx)(we,{})]}),Object(a.jsxs)(J.a,{container:!0,item:!0,xs:12,sm:12,md:9,spacing:0,children:[Object(a.jsxs)(J.a,{item:!0,xs:12,children:[Object(a.jsx)(w.a,{variant:"h4",className:t.title,children:i.selectedDeviceID}),Object(a.jsx)(c.a.Fragment,{children:function(e,t){var r=[],c=[],s=[];return e.map((function(e,o){for(var i=0,l=Object.entries(e);i<l.length;i++){var u=Object(d.a)(l[i],2)[1];if(u.id===t.selectedDeviceID)for(var b=0,p=Object.entries(u);b<p.length;b++){var g=Object(d.a)(p[b],2),h=g[0],O=g[1];if("object"!==typeof O&&null!==O)r.push(n("DevicesSelectionPage.Properties.".concat(h))),c.push({value:O,belongsToColumn:n("DevicesSelectionPage.Tabs.info")});else{var m=j(O);s.push({label:n("DevicesSelectionPage.Tabs.".concat(h)),content:Object(a.jsx)(Ye,{columns:m.columns,rows:m.rows})})}}}return null})),s.push({label:n("DevicesSelectionPage.Tabs.info"),content:Object(a.jsx)(Ye,{columns:r,rows:[c]})}),Object(a.jsx)(Ee,{name:t.selectedDeviceType,tabs:s})}(o,i)})]}),Object(a.jsxs)(J.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(a.jsxs)(J.a,{item:!0,xs:12,sm:6,children:[Object(a.jsxs)(w.a,{variant:"h5",children:[n("DevicesSelectionPage.Status"),": ",g()?n("DevicesSelectionPage.StatusConnected"):n("DevicesSelectionPage.StatusDisconnected")]}),"MSAgentDevice"===i.selectedDeviceType?Object(a.jsx)(w.a,{variant:"h6",className:h()?t.onboarded:t.offboarded,children:h()?n("DevicesSelectionPage.StatusOnboarded"):n("DevicesSelectionPage.StatusOffboarded")}):null]}),Object(a.jsx)(J.a,{item:!0,xs:6,sm:3,children:Object(a.jsx)(ie.a,{onClick:function(){return O(!0,i.selectedDeviceID)},fullWidth:!0,variant:"contained",color:"primary",disabled:!!g(),children:n("DevicesSelectionPage.Connect")})}),Object(a.jsx)(J.a,{item:!0,xs:6,sm:3,children:Object(a.jsx)(ie.a,{onClick:function(){return O(!1,i.selectedDeviceID)},fullWidth:!0,variant:"contained",color:"secondary",disabled:!g(),children:n("DevicesSelectionPage.Disconnect")})})]})]})]})})})),ot=n(299),it=n(298),lt=n(303),ut="SET_ACCOUNT_FORM_CURRENT_PASSWORD",dt="SET_ACCOUNT_FORM_NEW_PASSWORD",jt="/api/user",bt=new(function(){function e(){Object(q.a)(this,e)}return Object(Q.a)(e,[{key:"getMyAccountDetails",value:function(){var e=Object(Z.a)(X.a.mark((function e(){var t,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(jt,"/me"),{method:"GET",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken}});case 2:if(200!==(t=e.sent).status){e.next=10;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",{status:t.status,data:n});case 10:return e.abrupt("return",{status:t.status});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllAccounts",value:function(){var e=Object(Z.a)(X.a.mark((function e(){var t,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(jt),{method:"GET",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken}});case 2:if(200!==(t=e.sent).status){e.next=10;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",{status:t.status,data:n});case 10:return e.abrupt("return",{status:t.status});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteAccount",value:function(){var e=Object(Z.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(jt,"/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken}});case 2:return n=e.sent,e.abrupt("return",{status:n.status});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"editAccount",value:function(){var e=Object(Z.a)(X.a.mark((function e(t,n,a){var r,c,s,o,i=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>3&&void 0!==i[3]&&i[3],c={name:n,permissions:a},r&&(s=Object(j.a)(Object(j.a)({},c),{},{password:r})),e.next=5,fetch("".concat(jt,"/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken},body:JSON.stringify(r?s:c)});case 5:return o=e.sent,e.abrupt("return",{status:o.status});case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"editMyPassword",value:function(){var e=Object(Z.a)(X.a.mark((function e(t,n,a,r){var c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(jt,"/me"),{method:"PUT",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken},body:JSON.stringify({name:t,permissions:n,oldPassword:a,password:r})});case 2:return c=e.sent,e.abrupt("return",{status:c.status});case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(Z.a)(X.a.mark((function e(t,n,a){var r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(jt,{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":JSON.parse(localStorage.getItem("user")).accessToken},body:JSON.stringify({name:t,permissions:a,password:n})});case 2:return r=e.sent,e.abrupt("return",{status:r.status});case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}()),pt=Object(g.a)((function(e){return{root:{flexGrow:1,textAlign:"center"},loginButton:{marginTop:e.spacing(3)},form:{"& > *":{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}}));var gt={setAccountFormCurrentPassword:function(e){return{type:ut,password:e}},setAccountFormNewPassword:function(e){return{type:dt,password:e}},setSnackbarText:ne,setSnackbarShown:ae},ht=Object(re.b)((function(e){return{currentPassword:e.AccountPageReducer.currentPassword,newPassword:e.AccountPageReducer.newPassword}}),gt)((function(e){var t=e.currentPassword,n=e.newPassword,c=e.setAccountFormCurrentPassword,s=e.setAccountFormNewPassword,o=e.setSnackbarText,i=e.setSnackbarShown,l=pt(),u=Object(M.a)().t,j=Object(r.useState)({}),b=Object(d.a)(j,2),p=b[0],g=b[1],h=Object(r.useCallback)((function(){bt.getMyAccountDetails().then((function(e){200===e.status?g(e.data):(o(u("Snackbar.UnknownError"),"error"),i(!0))}))}),[i,o,u]);Object(r.useEffect)((function(){h()}),[h]);var O=function(e){var a=u("AccountPage.PasswordHelperError8characters"),r=u("AccountPage.PasswordHelperErrorSamePasswords");if("currentPassword"===e){if(t.length>0&&t.length<8)return{error:!0,text:a}}else if(n.length>0&&n.length<8)return{error:!0,text:a};return n.length>0&&t.length>0&&n===t?{error:!0,text:r}:{error:!1,text:""}};return Object(a.jsx)("div",{className:l.root,children:Object(a.jsxs)(J.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center",alignContent:"center",children:[Object(a.jsx)(J.a,{item:!0,xs:12,children:Object(a.jsx)(w.a,{variant:"h4",children:u("AccountPage.Title")})}),Object(a.jsx)(J.a,{container:!0,justify:"center",alignItems:"center",alignContent:"center",item:!0,xs:12,children:Object(a.jsxs)(J.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:3,children:[p.permissions>=1?Object(a.jsx)(lt.a,{avatar:Object(a.jsx)(it.a,{children:"U"}),label:"User"}):null,p.permissions>=3?Object(a.jsx)(lt.a,{color:"primary",avatar:Object(a.jsx)(it.a,{children:"A"}),label:"Admin"}):null,7===p.permissions?Object(a.jsx)(lt.a,{color:"secondary",avatar:Object(a.jsx)(it.a,{children:"S"}),label:"SuperAdmin"}):null]})}),Object(a.jsx)(J.a,{container:!0,justify:"center",alignItems:"center",alignContent:"center",item:!0,xs:12,children:Object(a.jsx)(J.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:3,children:Object(a.jsxs)("form",{className:l.form,noValidate:!0,autoComplete:"off",children:[p._id?Object(a.jsx)(ot.a,{fullWidth:!0,disabled:!0,label:"ID",defaultValue:p._id}):null,p.name?Object(a.jsx)(ot.a,{fullWidth:!0,disabled:!0,label:u("AccountPage.NameTextField"),autoComplete:"username",defaultValue:p.name}):null,Object(a.jsx)(ot.a,{type:"password",autoComplete:"current-password",value:t,onChange:function(e){return c(e.target.value)},fullWidth:!0,label:u("AccountPage.CurrentPasswordTextField"),helperText:O("currentPassword").text,error:O("currentPassword").error}),Object(a.jsx)(ot.a,{type:"password",autoComplete:"new-password",value:n,onChange:function(e){return s(e.target.value)},fullWidth:!0,label:u("AccountPage.NewPasswordTextField"),helperText:O("newPassword").text,error:O("newPassword").error})]})})}),Object(a.jsx)(J.a,{item:!0,xs:12,sm:12,md:6,lg:4,xl:3,children:Object(a.jsx)(ie.a,{onClick:function(){bt.editMyPassword(p.name,p.permissions,t,n).then((function(e){200===e.status?(c(""),s(""),o(u("Snackbar.SuccessfulPasswordChange"),"success"),i(!0)):(o(u("Snackbar.UnsuccessfulPasswordChange"),"error"),i(!0))}))},className:l.loginButton,fullWidth:!0,color:"secondary",variant:"contained",disabled:0===t.length||0===n.length||O("newPassword").error||O("currentPassword").error,children:u("AccountPage.ChangePasswordButton")})})]})})})),Ot=n(273),mt=n(306),ft=n(104),xt=n.n(ft),vt=n(106),wt=n.n(vt),St=n(105),Dt=n.n(St),Ct=n(103),yt=n.n(Ct),Tt=Object(g.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function kt(e){var t=Tt(),n=Object(h.a)(),r=e.count,c=e.page,s=e.rowsPerPage,o=e.onChangePage;return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(D.a,{onClick:function(e){o(e,0)},disabled:0===c,"aria-label":"first page",children:"rtl"===n.direction?Object(a.jsx)(yt.a,{}):Object(a.jsx)(xt.a,{})}),Object(a.jsx)(D.a,{onClick:function(e){o(e,c-1)},disabled:0===c,"aria-label":"previous page",children:"rtl"===n.direction?Object(a.jsx)(Dt.a,{}):Object(a.jsx)(wt.a,{})}),Object(a.jsx)(D.a,{onClick:function(e){o(e,c+1)},disabled:c>=Math.ceil(r/s)-1,"aria-label":"next page",children:"rtl"===n.direction?Object(a.jsx)(wt.a,{}):Object(a.jsx)(Dt.a,{})}),Object(a.jsx)(D.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(r/s)-1))},disabled:c>=Math.ceil(r/s)-1,"aria-label":"last page",children:"rtl"===n.direction?Object(a.jsx)(xt.a,{}):Object(a.jsx)(yt.a,{})})]})}var Pt=Object(g.a)({table:{}});function At(e){var t=e.rows,n=e.columns,r=e.noPagination,s=Pt(),o=c.a.useState(0),i=Object(d.a)(o,2),l=i[0],u=i[1],j=c.a.useState(t.length<5?t.length:5),b=Object(d.a)(j,2),p=b[0],g=b[1],h=Object(M.a)().t,O=p-Math.min(p,t.length-l*p);return c.a.useEffect((function(){t.length<5?g(t.length):g(5)}),[t]),Object(a.jsx)(Me.a,{component:We.a,children:Object(a.jsxs)(Fe.a,{className:s.table,"aria-label":"params table",children:[Object(a.jsx)(ze.a,{children:Object(a.jsx)(Be.a,{children:n.map((function(e,t){return Object(a.jsx)(_e.a,{children:e},"column-".concat(t))}))})}),Object(a.jsxs)(Re.a,{children:[r?t.map((function(e,t){return Object(a.jsx)(Be.a,{children:e.map((function(e,t){return Object(a.jsx)(_e.a,{children:"boolean"===typeof e?e.toString():e},"cell-".concat(t))}))},"row-".concat(t))})):(p>0?t.slice(l*p,l*p+p):t).map((function(e,t){return Object(a.jsx)(Be.a,{children:e.map((function(e,t){return Object(a.jsx)(_e.a,{children:"boolean"===typeof e?e.toString():"object"===typeof e?JSON.stringify(e):e},"cell-".concat(t))}))},"row-".concat(t))})),O>0&&Object(a.jsx)(Be.a,{style:{height:53*O},children:Object(a.jsx)(_e.a,{colSpan:6})})]}),r?null:Object(a.jsx)(Ot.a,{children:Object(a.jsx)(Be.a,{children:Object(a.jsx)(mt.a,{labelDisplayedRows:function(e){var t=e.from,n=e.to,a=e.count;return"".concat(t,"-").concat(n," ").concat(h("UniversalTable.Of")," ").concat(a)},labelRowsPerPage:h("UniversalTable.RowsPerPage"),rowsPerPageOptions:[t.length<5?t.length:5,10,25],colSpan:n.length,count:t.length,rowsPerPage:p,page:l,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){u(t)},onChangeRowsPerPage:function(e){g(parseInt(e.target.value,10)),u(0)},ActionsComponent:kt})})})]})})}var Et="SET_USER_ACCOUNTS_LIST",Ut=function(e){return{type:Et,list:e}},Nt=n(142),It=n.n(Nt),Lt="SET_CREATE_ACCOUNT_DIALOG_OPEN",Ft="SET_CREATE_ACCOUNT_DIALOG_NAME_TEXTFIELD",Rt="SET_CREATE_ACCOUNT_DIALOG_NAME_TEXTFIELD_ERROR",_t="SET_CREATE_ACCOUNT_DIALOG_PASSWORD_TEXTFIELD",Mt="SET_CREATE_ACCOUNT_DIALOG_PASSWORD_TEXTFIELD_ERROR",zt="SET_CREATE_ACCOUNT_DIALOG_PERMISSIONS_SELECT",Bt="SET_CREATE_ACCOUNT_DIALOG_NEWPASSWORD_TEXTFIELD",Wt="SET_CREATE_ACCOUNT_DIALOG_EDIT_ID",Ht=function(e,t){return{type:Lt,open:e,dialogType:t}},Gt=function(e){return{type:Ft,name:e}},Jt=function(e){return{type:zt,permissions:e}},Vt=n(140),Kt=n.n(Vt),Xt=n(141),Zt=n.n(Xt),qt="SET_CONFIRM_DELETE_USER_DIALOG_OPEN",Qt="SET_CONFIRM_DELETE_USER_DIALOG_USERNAME",Yt=function(e){return{type:qt,open:e}},$t=function(e,t){return{type:Qt,username:e,id:t}},en=new(function(){function e(){Object(q.a)(this,e)}return Object(Q.a)(e,[{key:"login",value:function(){var e=Object(Z.a)(X.a.mark((function e(t,n){var a,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/auth/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,password:n})});case 2:if(200!==(a=e.sent).status){e.next=9;break}return e.next=6,a.json();case 6:return r=e.sent,a.headers.get("x-auth-token")&&localStorage.setItem("user",JSON.stringify(Object(j.a)(Object(j.a)({},r),{},{accessToken:a.headers.get("x-auth-token")}))),e.abrupt("return",r);case 9:throw new Error(a.status);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),tn=n(305),nn=Object(g.a)((function(e){return{icons:{padding:e.spacing(1)}}}));var an={setUserAccountsList:Ut,setCreateAccountDialogOpen:Ht,setConfirmDeleteUserDialogOpen:Yt,setConfirmDeleteUserDialogUsername:$t,setCreateAccountDialogEditId:function(e){return{type:Wt,id:e}},setCreateAccountDialogNameTextfield:Gt,setCreateAccountDialogPermissionsSelect:Jt,setSnackbarText:ne,setSnackbarShown:ae},rn=Object(re.b)((function(e){return{accountsList:e.UserAccountsPageReducer.accountsList}}),an)((function(e){var t=e.setUserAccountsList,n=e.setCreateAccountDialogOpen,s=e.accountsList,o=e.setConfirmDeleteUserDialogOpen,i=e.setConfirmDeleteUserDialogUsername,l=e.setCreateAccountDialogEditId,u=e.setCreateAccountDialogPermissionsSelect,d=e.setCreateAccountDialogNameTextfield,j=e.setSnackbarText,b=e.setSnackbarShown,p=Object(M.a)().t,g=nn(),h=Object(r.useCallback)((function(){bt.getAllAccounts().then((function(e){200===e.status?t(e.data):403===e.status?(j(p("Snackbar.Generic403"),"error"),b(!0)):(j(p("Snackbar.UnknownError"),"error"),b(!0))}))}),[t,b,j,p]);Object(r.useEffect)((function(){h()}),[h]);var O=function(e){var t=en.getCurrentUser().permissions;return 7===t||(3!==e&&7!==e||3!==t)};return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(J.a,{container:!0,spacing:2,children:[Object(a.jsx)(J.a,{item:!0,xs:12,children:Object(a.jsx)(w.a,{variant:"h4",children:p("AccountMenu.UserAccounts")})}),s.length>0?Object(a.jsx)(J.a,{item:!0,xs:12,children:Object(a.jsx)(At,{noPagination:!0,columns:[p("UserAccountsPage.IdColumn"),p("UserAccountsPage.NameColumn"),p("UserAccountsPage.PermissionsColumn"),p("UserAccountsPage.ActionColumn")],rows:s.map((function(e){return[e._id,e.name,1===e.permissions?"User":3===e.permissions?"Admin":"SuperAdmin",O(e.permissions)?Object(a.jsxs)("div",{children:[Object(a.jsx)(tn.a,{title:p("UserAccountsPage.TooltipEdit"),placement:"top",children:Object(a.jsx)(D.a,{onClick:function(){return t=e._id,a=e.name,r=e.permissions,l(t),d(a),u(r),void n(!0,"edit");var t,a,r},className:g.icons,"aria-label":"edit",children:Object(a.jsx)(Kt.a,{})})}),Object(a.jsx)(tn.a,{title:p("UserAccountsPage.TooltipDelete"),placement:"top",children:Object(a.jsx)(D.a,{onClick:function(){return t=e._id,n=e.name,i(n,t),void o(!0);var t,n},className:g.icons,"aria-label":"delete",children:Object(a.jsx)(Zt.a,{})})})]}):null]}))})}):null,Object(a.jsx)(J.a,{item:!0,xs:6,sm:4,md:3,lg:2,children:Object(a.jsx)(ie.a,{onClick:function(){return n(!0,"create")},fullWidth:!0,variant:"contained",color:"secondary",startIcon:Object(a.jsx)(It.a,{}),children:p("UserAccountsPage.CreateUser")})})]})})})),cn=function(){var e=en.getCurrentUser();return null!==e&&void 0!==e._id&&void 0!==e.name&&void 0!==e.permissions&&void 0!==e.accessToken},sn=function(){var e=en.getCurrentUser();return null!==e&&e.permissions>=3},on="SET_AUTHENTICATED",ln=function(e){return{type:on,authenticated:e}};var un={setAuthenticated:ln},dn=Object(re.b)((function(e){return{authenticated:e.AuthenticationReducer.authed}}),un)((function(e){var t=e.children,n=(e.authenticated,e.setAuthenticated,Object(Se.a)(e,["children","authenticated","setAuthenticated"]));return Object(a.jsx)(_.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){var n=e.location;return sn()?t:Object(a.jsx)(_.a,{to:{pathname:"/login",state:{from:n}}})}}))}));function jn(){return Object(a.jsxs)(_.d,{children:[Object(a.jsx)(_.b,{path:"/settings",render:function(){return Object(a.jsx)(ue,{})}}),Object(a.jsx)(_.b,{path:"/myaccount",render:function(){return Object(a.jsx)(ht,{})}}),Object(a.jsx)(dn,{path:"/useraccounts",children:Object(a.jsx)(rn,{})}),Object(a.jsx)(_.b,{path:"/",render:function(){return Object(a.jsx)(st,{})}})]})}var bn="SET_LANGUAGE_DIALOG_OPEN",pn=function(e){return{type:bn,open:e}},gn=n(79),hn=n(80),On=n(281),mn=n(110),fn=n.n(mn),xn=n(145),vn=n.n(xn),wn=n(274),Sn=n(153),Dn=n(148),Cn=n.n(Dn),yn=n(278),Tn=n(277),kn="SET_FORM_USERNAME",Pn="SET_FORM_PASSWORD",An="SET_FORM_USERNAME_ERROR",En="SET_FORM_PASSWORD_ERROR",Un=Object(g.a)((function(e){return{contentDesktop:{padding:e.spacing(1),height:"100vh",width:"100%"},contentMobile:{padding:e.spacing(1),height:"100%",width:"100%"},loginButton:{marginTop:e.spacing(3)},form:{"& > *":{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},fab:{position:"absolute",top:e.spacing(2),right:e.spacing(2)}}}));var Nn={setLanguageDialogOpen:pn,setFormPassword:function(e){return{type:Pn,password:e}},setFormUsername:function(e){return{type:kn,username:e}},setFormUsernameError:function(e){return{type:An,error:e}},setFormPasswordError:function(e){return{type:En,error:e}}},In=Object(re.b)((function(e){return{login:e.LoginPageReducer.username,loginError:e.LoginPageReducer.usernameError,password:e.LoginPageReducer.password,passwordError:e.LoginPageReducer.passwordError}}),Nn)((function(e){var t=Un(),n=Object(M.a)().t,r=Object(h.a)(),s=Object(G.a)("".concat(r.breakpoints.down("sm")," and (orientation: landscape)")),o=Object(_.g)(),i=function(){en.login(e.login,e.password).then((function(){o.push("/")})).catch((function(){e.setFormUsernameError(!0),e.setFormPasswordError(!0)}))},l=function(t){"Enter"===t.key&&e.login.length>=3&&e.password.length>=8&&i()},u=function(t,n){e.setFormUsernameError(!1),e.setFormPasswordError(!1),"username"===t?e.setFormUsername(n):e.setFormPassword(n)},d={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen};return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Tn.a,{in:!0,timeout:d,style:{transitionDelay:"500ms"},unmountOnExit:!0,children:Object(a.jsx)(yn.a,{"aria-label":"choose langauge",className:t.fab,color:"primary",onClick:function(){return e.setLanguageDialogOpen(!0)},children:Object(a.jsx)(L.a,{})})}),Object(a.jsxs)(J.a,{className:s?t.contentMobile:t.contentDesktop,container:!0,spacing:0,direction:"row",justify:"center",alignItems:"center",alignContent:"center",children:[Object(a.jsx)(J.a,{item:!0,xs:12,children:Object(a.jsx)(w.a,{align:"center",variant:"h2",gutterBottom:!0,children:"Sidiro IoT"})}),Object(a.jsx)(J.a,{item:!0,xs:12,children:Object(a.jsx)(w.a,{align:"center",variant:"h4",gutterBottom:!0,children:n("LoginPage.LoginTitle")})}),Object(a.jsxs)(J.a,{item:!0,xs:12,sm:8,md:6,lg:4,xl:3,children:[Object(a.jsxs)("form",{noValidate:!0,autoComplete:"off",className:t.form,children:[Object(a.jsx)(ot.a,{error:e.loginError,value:e.login,onChange:function(e){return u("username",e.target.value)},id:"login",label:n("LoginPage.FormLoginTextField"),fullWidth:!0,variant:"standard",autoComplete:"username",onKeyDown:l,helperText:e.loginError?n("LoginPage.InvalidLoginPassword"):n("LoginPage.FormLoginTextFieldHelperText")}),Object(a.jsx)(ot.a,{error:e.passwordError,value:e.password,onChange:function(e){return u("password",e.target.value)},id:"password",type:"password",label:n("LoginPage.FormPasswordTextField"),fullWidth:!0,variant:"standard",autoComplete:"password",onKeyDown:l,helperText:e.loginError?n("LoginPage.InvalidLoginPassword"):n("LoginPage.FormPasswordTextFieldHelperText")})]}),Object(a.jsx)(ie.a,{onClick:function(){i()},className:t.loginButton,color:"secondary",variant:"contained",fullWidth:!0,disabled:e.login.length<3||e.password.length<8,children:n("LoginPage.LoginButton")})]})]})]})})),Ln="SET_HARDWARE_USAGE",Fn=n(143),Rn=n.n(Fn);var _n={setAuthenticated:ln},Mn=Object(re.b)((function(e){return{authenticated:e.AuthenticationReducer.authed}}),_n)((function(e){var t=e.children,n=e.authenticated,r=e.setAuthenticated,s=Object(Se.a)(e,["children","authenticated","setAuthenticated"]);return c.a.useEffect((function(){cn()&&r(!0)}),[n,r]),Object(a.jsx)(_.b,Object(j.a)(Object(j.a)({},s),{},{render:function(e){var n=e.location;return cn()?t:Object(a.jsx)(_.a,{to:{pathname:"/login",state:{from:n}}})}}))})),zn=n(279);function Bn(e){var t=[{pct:0,color:{r:0,g:255,b:0}},{pct:.5,color:{r:255,g:255,b:0}},{pct:1,color:{r:255,g:0,b:0}}];return Object(a.jsxs)("div",{style:{position:"relative",display:"inline-flex",marginRight:"20px",marginLeft:"5px"},children:[Object(a.jsx)(zn.a,Object(j.a)(Object(j.a)({variant:"determinate",style:{color:"#eeeeee1c"},size:40,thickness:4},e),{},{value:100})),Object(a.jsx)(zn.a,Object(j.a)(Object(j.a)({variant:"static"},e),{},{style:{position:"absolute",animationDuration:"1500ms",color:function(e){for(var n=1;n<t.length-1&&!(e<t[n].pct);n++);var a=t[n-1],r=t[n],c=r.pct-a.pct,s=(e-a.pct)/c,o=1-s,i=s,l={r:Math.floor(a.color.r*o+r.color.r*i),g:Math.floor(a.color.g*o+r.color.g*i),b:Math.floor(a.color.b*o+r.color.b*i)};return"rgb("+[l.r,l.g,l.b].join(",")+")"}(e.value/100)}})),Object(a.jsx)("div",{style:{position:"absolute",display:"flex",top:"0px",left:"0px",bottom:"0px",right:"0px",alignItems:"center",justifyContent:"center"},children:Object(a.jsx)(w.a,{variant:"caption",component:"div",color:"initial",children:"".concat(Math.round(e.value)).concat(e.unit)})})]})}var Wn,Hn=240,Gn=Object(g.a)((function(e){var t,n,a;return{root:{display:"flex",flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:Hn,width:"calc(100% - ".concat(Hn,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:(t={width:Hn,flexShrink:0,whiteSpace:"nowrap"},Object(b.a)(t,"".concat(e.breakpoints.down("sm")," and (orientation: portrait)"),{display:"none"}),Object(b.a)(t,"".concat(e.breakpoints.down("sm")," and (orientation: landscape)"),{display:"flex"}),t),drawerOpen:{width:Hn,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},toolbar:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:Object(b.a)({flexGrow:1,width:"calc(100% - 57px)",padding:e.spacing(1)},"".concat(e.breakpoints.down("sm")," and (orientation: portrait)"),{paddingBottom:e.spacing(10),paddingTop:e.spacing(1),paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}),bottomNavi:(n={position:"fixed",bottom:0,width:"100%",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},Object(b.a)(n,"".concat(e.breakpoints.down("sm")," and (orientation: portrait)"),{display:"flex"}),Object(b.a)(n,"".concat(e.breakpoints.down("sm")," and (orientation: landscape)"),{display:"none"}),Object(b.a)(n,"".concat(e.breakpoints.up("md")),{display:"none"}),Object(b.a)(n,"textAlign","center"),n),title:{flexGrow:1},hardwareUsage:{width:"50px",height:"40px"},sectionDesktop:(a={display:"none"},Object(b.a)(a,e.breakpoints.up("md"),{display:"flex",alignItems:"center"}),Object(b.a)(a,"flexGrow",1),a),sectionMobile:Object(b.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),loginButton:Object(b.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"})}}));var Jn={setLanguageDialogOpen:pn,setHardwareUsage:function(e,t,n,a){return{type:Ln,cpuUsage:e,cpuTemperature:t,ramUsage:n,diskUsage:a}},setAuthenticated:ln,setCreateAccountDialogOpen:Ht},Vn=Object(re.b)((function(e){return{hardwareUsage:e.HardwareUsageReducer,authenticated:e.AuthenticationReducer.authed}}),Jn)((function(e){var t,n,s,o=Gn(),l=Object(h.a)(),u=c.a.useState(!1),j=Object(d.a)(u,2),g=j[0],C=j[1],T=Object(M.a)().t,P=Object(G.a)("".concat(l.breakpoints.down("sm")," and (orientation: portrait)")),I=c.a.useState(null),F=Object(d.a)(I,2),W=F[0],J=F[1],V=c.a.useState(null),K=Object(d.a)(V,2),X=K[0],Z=K[1],q=c.a.useState(0),Q=Object(d.a)(q,2),Y=Q[0],$=Q[1],ee=e.setHardwareUsage,te=e.authenticated,ne=e.setAuthenticated,ae=Object(_.g)(),re=Object(_.h)(),ce=Boolean(W),se=Boolean(X);Object(r.useEffect)((function(){(Wn=Rn()()).addEventListener("message",(function(e){void 0!==e.data.cpuUsage&&ee(e.data.cpuUsage,e.data.cpuTemperature,e.data.ramUsage,e.data.diskUsage)}))}),[ee]),Object(r.useEffect)((function(){$(re.pathname)}),[re]),Object(r.useEffect)((function(){!1===te?Wn.postMessage({token:null,text:"stop"}):Wn.postMessage({token:JSON.parse(localStorage.getItem("user")).accessToken,text:"start"})}),[te]),Object(r.useEffect)((function(){P&&(C(!1),J(null))}),[P]);var oe=function(e){J(e.currentTarget)},ie=function(){Z(null)},le=function(){ie(),J(null)},ue="primary-search-account-menu",de=Object(a.jsxs)(Sn.a,{anchorEl:W,anchorOrigin:{vertical:"top",horizontal:"right"},id:ue,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:ce,onClose:le,children:[Object(a.jsx)(wn.a,{component:i.b,to:"/myaccount",onClick:le,children:T("AccountMenu.MyAccount")}),Object(a.jsx)(wn.a,{onClick:function(){return ne(!1),en.logout(),le(),void ae.push("/login")},children:T("AccountMenu.Logout")}),sn()?Object(a.jsxs)("div",{children:[Object(a.jsx)(S.a,{}),Object(a.jsx)(wn.a,{component:i.b,onClick:le,to:"/useraccounts",children:T("AccountMenu.UserAccounts")})]}):null]}),je=function(e){return null!==e?e.toFixed():null},be="primary-search-account-menu-mobile",pe=Object(a.jsxs)(Sn.a,{anchorEl:X,anchorOrigin:{vertical:"top",horizontal:"right"},id:be,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:se,onClose:ie,children:[Object(a.jsxs)(wn.a,{children:[Object(a.jsx)(On.a,{badgeContent:"".concat(je(e.hardwareUsage.cpuUsage),"%"),color:"primary",children:Object(a.jsx)(D.a,{"aria-label":"cpu usage",color:"inherit",className:o.hardwareUsage,children:Object(a.jsx)(gn.a,{icon:hn.c})})}),Object(a.jsx)("p",{children:"CPU"})]}),Object(a.jsxs)(wn.a,{children:[Object(a.jsx)(On.a,{badgeContent:"".concat(je(e.hardwareUsage.cpuTemperature),"\xb0C"),color:"primary",children:Object(a.jsx)(D.a,{"aria-label":"cpu temperature",color:"inherit",className:o.hardwareUsage,children:Object(a.jsx)(gn.a,{icon:hn.d})})}),Object(a.jsx)("p",{children:"TEMP"})]}),Object(a.jsxs)(wn.a,{children:[Object(a.jsx)(On.a,{badgeContent:"".concat(je(e.hardwareUsage.ramUsage),"%"),color:"primary",children:Object(a.jsx)(D.a,{"aria-label":"memory usage",color:"inherit",className:o.hardwareUsage,children:Object(a.jsx)(gn.a,{icon:hn.b})})}),Object(a.jsx)("p",{children:"MEM"})]}),Object(a.jsxs)(wn.a,{children:[Object(a.jsx)(On.a,{badgeContent:"".concat(je(e.hardwareUsage.diskUsage),"%"),color:"primary",children:Object(a.jsx)(D.a,{"aria-label":"space usage",color:"inherit",className:o.hardwareUsage,children:Object(a.jsx)(gn.a,{icon:hn.a})})}),Object(a.jsx)("p",{children:"DISK"})]}),Object(a.jsx)(S.a,{}),Object(a.jsxs)(wn.a,{onClick:oe,children:[Object(a.jsx)(D.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(a.jsx)(fn.a,{})}),Object(a.jsx)("p",{children:T("AccountMenu.Profile")})]})]});return Object(a.jsx)("div",{className:o.root,children:Object(a.jsxs)(_.d,{children:[Object(a.jsx)(_.b,{path:"/login",render:function(){return Object(a.jsx)(In,{})}}),Object(a.jsx)(Mn,{path:"/",children:Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(v.a,{}),Object(a.jsx)(m.a,{position:"fixed",className:Object(p.a)(o.appBar,Object(b.a)({},o.appBarShift,g)),children:Object(a.jsxs)(f.a,{children:[Object(a.jsx)(D.a,{color:"inherit","aria-label":"open drawer",onClick:function(){C(!0)},edge:"start",className:Object(p.a)(o.menuButton,(t={},Object(b.a)(t,o.hide,g),Object(b.a)(t,o.hide,P),t)),children:Object(a.jsx)(y.a,{})}),Object(a.jsx)(w.a,{variant:"h6",noWrap:!0,className:o.title,children:"Sidiro IoT"}),Object(a.jsxs)("div",{className:o.sectionDesktop,children:[Object(a.jsx)(w.a,{variant:"body1",children:"CPU"}),Object(a.jsx)(Bn,{value:e.hardwareUsage.cpuUsage,unit:"%"}),Object(a.jsx)(w.a,{variant:"body1",children:"TEMP"}),Object(a.jsx)(Bn,{value:e.hardwareUsage.cpuTemperature,unit:"\xb0C"}),Object(a.jsx)(w.a,{variant:"body1",children:"MEM"}),Object(a.jsx)(Bn,{value:e.hardwareUsage.ramUsage,unit:"%"}),Object(a.jsx)(w.a,{variant:"body1",children:"DISK"}),Object(a.jsx)(Bn,{value:e.hardwareUsage.diskUsage,unit:"%"})]}),Object(a.jsx)(D.a,{className:o.loginButton,edge:"end","aria-label":"account of current user","aria-controls":ue,"aria-haspopup":"true",onClick:oe,color:"inherit",children:Object(a.jsx)(fn.a,{})}),Object(a.jsx)("div",{className:o.sectionMobile,children:Object(a.jsx)(D.a,{"aria-label":"show more","aria-controls":be,"aria-haspopup":"true",onClick:function(e){Z(e.currentTarget)},color:"inherit",children:Object(a.jsx)(vn.a,{})})})]})}),pe,de,Object(a.jsxs)(O.a,{variant:"permanent",className:Object(p.a)(o.drawer,(n={},Object(b.a)(n,o.drawerOpen,g),Object(b.a)(n,o.drawerClose,!g),n)),classes:{paper:Object(p.a)((s={},Object(b.a)(s,o.drawerOpen,g),Object(b.a)(s,o.drawerClose,!g),s))},children:[Object(a.jsx)("div",{className:o.toolbar,children:Object(a.jsx)(D.a,{onClick:function(){C(!1)},children:"rtl"===l.direction?Object(a.jsx)(A.a,{}):Object(a.jsx)(k.a,{})})}),Object(a.jsx)(S.a,{}),Object(a.jsxs)(x.a,{children:[Object(a.jsxs)(E.a,{button:!0,component:i.b,to:"/",selected:"/"===re.pathname,children:[Object(a.jsx)(U.a,{children:Object(a.jsx)(H.a,{})}),Object(a.jsx)(N.a,{primary:T("Drawer.Devices")})]}),Object(a.jsxs)(E.a,{button:!0,component:i.b,to:"/settings",selected:"/settings"===re.pathname,children:[Object(a.jsx)(U.a,{children:Object(a.jsx)(Cn.a,{})}),Object(a.jsx)(N.a,{primary:T("Drawer.Settings")})]}),Object(a.jsx)(S.a,{}),Object(a.jsxs)(E.a,{button:!0,onClick:function(){return e.setLanguageDialogOpen(!0)},children:[Object(a.jsx)(U.a,{children:Object(a.jsx)(L.a,{})}),Object(a.jsx)(N.a,{primary:T("Drawer.Language")})]})]})]}),Object(a.jsxs)("main",{className:o.content,children:[Object(a.jsx)("div",{className:o.toolbar}),Object(a.jsx)(jn,{})]}),Object(a.jsxs)(z.a,{showLabels:!1,className:o.bottomNavi,value:Y,children:[Object(a.jsx)(B.a,{value:"/",label:T("Drawer.Devices"),icon:Object(a.jsx)(H.a,{}),component:i.b,to:"/"}),Object(a.jsx)(B.a,{value:"/settings",label:T("Drawer.Settings"),icon:Object(a.jsx)(R.a,{}),component:i.b,to:"/settings"}),Object(a.jsx)(B.a,{label:T("Drawer.Language"),icon:Object(a.jsx)(L.a,{}),onClick:function(){return e.setLanguageDialogOpen(!0)}})]})]})})]})})})),Kn=n(64),Xn={open:!1},Zn={},qn={selectedDeviceIndex:0,selectedDeviceID:"",selectedDeviceType:""},Qn={username:"",usernameError:!1,password:"",passwordError:!1},Yn={currentPassword:"",newPassword:""},$n={cpuUsage:0,cpuTemperature:0,ramUsage:0,diskUsage:0},ea={authed:!1},ta={open:!1,type:"create",name:"",nameError:!1,password:"",passwordError:!1,newPassword:"",editAccountId:"",permissions:1},na={accountsList:[]},aa={text:"",severity:"",shown:!1},ra={open:!1,username:"",id:""},ca={devices:[]},sa=Object(Kn.b)({LanguageDialogReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bn:return Object(j.a)(Object(j.a)({},e),{},{open:t.open});default:return e}},UniversalTabsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.name,t.index));default:return e}},DevicesListReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(j.a)(Object(j.a)({},e),{},{selectedDeviceIndex:t.deviceIndex,selectedDeviceID:t.deviceID,selectedDeviceType:t.deviceType});default:return e}},LoginPageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kn:return Object(j.a)(Object(j.a)({},e),{},{username:t.username});case Pn:return Object(j.a)(Object(j.a)({},e),{},{password:t.password});case An:return Object(j.a)(Object(j.a)({},e),{},{usernameError:t.error});case En:return Object(j.a)(Object(j.a)({},e),{},{passwordError:t.error});default:return e}},AccountPageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut:return Object(j.a)(Object(j.a)({},e),{},{currentPassword:t.password});case dt:return Object(j.a)(Object(j.a)({},e),{},{newPassword:t.password});default:return e}},HardwareUsageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ln:return Object(j.a)(Object(j.a)({},e),{},{cpuUsage:t.cpuUsage,cpuTemperature:t.cpuTemperature,ramUsage:t.ramUsage,diskUsage:t.diskUsage});default:return e}},AuthenticationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case on:return Object(j.a)(Object(j.a)({},e),{},{authed:t.authenticated});default:return e}},CreateAccountDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lt:return Object(j.a)(Object(j.a)({},e),{},{open:t.open,type:t.dialogType?t.dialogType:e.type});case Ft:return Object(j.a)(Object(j.a)({},e),{},{name:t.name});case _t:return Object(j.a)(Object(j.a)({},e),{},{password:t.password});case zt:return Object(j.a)(Object(j.a)({},e),{},{permissions:t.permissions});case Rt:return Object(j.a)(Object(j.a)({},e),{},{nameError:t.error});case Mt:return Object(j.a)(Object(j.a)({},e),{},{passwordError:t.error});case Bt:return Object(j.a)(Object(j.a)({},e),{},{newPassword:t.newpassword});case Wt:return Object(j.a)(Object(j.a)({},e),{},{editAccountId:t.id});default:return e}},UserAccountsPageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Et:return Object(j.a)(Object(j.a)({},e),{},{accountsList:t.list});default:return e}},SnackbarReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(j.a)(Object(j.a)({},e),{},{text:t.text,severity:t.severity});case te:return Object(j.a)(Object(j.a)({},e),{},{shown:t.shown});default:return e}},ConfirmDeleteUserDialogReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qt:return Object(j.a)(Object(j.a)({},e),{},{open:t.open});case Qt:return Object(j.a)(Object(j.a)({},e),{},{username:t.username,id:t.id});default:return e}},DevicesSelectionPageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return Object(j.a)(Object(j.a)({},e),{},{devices:t.devices});case Ne:return Object(j.a)(Object(j.a)({},e),{},{devices:e.devices.map((function(e){return t.params.id===Object.entries(e)[0][0]?Object(b.a)({},t.params.id,t.params):e}))});default:return e}}}),oa=n(112),ia=n(78),la=n(150),ua={order:["querystring","cookie","localStorage","navigator","htmlTag","path","subdomain"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupFromPathIndex:0,lookupFromSubdomainIndex:0,caches:["localStorage","cookie"],excludeCacheFor:["cimode"],htmlTag:document.documentElement,checkWhitelist:!0,checkForSimilarInWhitelist:!1,cookieOptions:{path:"/"}};oa.a.use(la.a).use(ia.e).init({resources:{en:{translation:{Drawer:{Devices:"Devices",Settings:"Settings",Language:"Language"},LanguageSelection:{Label:"Choose application language",PolishLanguage:"Polish",EnglishLanguage:"English"},DevicesSelectionPage:{DatapointsTab:"Data points",EdgecomputingTab:"Edge computing",EventsTab:"Events",DevicesTitle:"Devices",StatusConnected:"Connected",StatusDisconnected:"Disconnected",Status:"Status",Connect:"Connect",Disconnect:"Disconnect",StatusOnboarded:"Onboarded",StatusOffboarded:"Offboarded",Properties:{id:"ID",name:"Name",type:"Type",ipAddress:"IP Address",portNumber:"Port",timeout:"Timeout",isActive:"Active",isConnected:"Connected",deviceId:"Device ID",unit:"Unit",sampleTime:"Sample time",defaultValue:"Default value",offset:"Offset",length:"Length",read:"Read",write:"Write",readFCode:"Read FCode",writeFCode:"Write FCode",unitID:"Unit ID",readAsSingle:"Read as single",writeAsSingle:"Write as single",value:"Value",variableID:"Variable ID",factor:"Factor",calculationInterval:"Calculation interval",highLimit:"High limit",texts:"Texts",severity:"Severity",hysteresis:"Hysteresis",timeOnDelay:"Time on delay",timeOffDelay:"Time off delay",areaType:"Area type",dbNumber:"DB number",lowLimit:"Low limit",slot:"Slot",rack:"Rack",overflow:"Overflow",inverseLogic:"Inverse logic",AssociatedDeviceId:"Associated device ID",AssociatedElementId:"Associated element ID",variableIDs:"Variable IDs",alertValues:"Alert values",datapoint:"Datapoint",valueConverterObject:"Value converter object",sendingEnabled:"Sending enabled",sendFileLimit:"Send file limit",sendEventLimit:"Send event limit",sendingInterval:"Sending interval",numberOfSendRetries:"Number of send retries",boarded:"Boarded",lastValueTick:"Last value tick",elementId:"Element ID",qualityCodeEnabled:"Quality code enabled",datapointId:"Datapoint ID",dataConverter:"Data converter",entityId:"Entity ID",sourceType:"Source type",sourceId:"Source ID",source:"Source",sendDataFileInterval:"Send data file interval",sendEventFileInterval:"Send event file interval",dataStorageSize:"Data storage size",eventStorageSize:"Event storage size",numberOfDataFilesToSend:"Number of data files to send",numberOfEventFilesToSend:"Number of event files to send",numberOfSendDataRetries:"Number of send data retries",numberOfSendEventRetries:"Number of send event retries",memoryType:"Memory type",bitNumber:"Bit number",byteNumber:"Byte number",expression:"Expression",parameters:"Parameters"},Tabs:{calcElements:"Edge computing",variables:"Variables",alerts:"Alerts",info:"Info",datapoints:"Datapoints",dataToSendConfig:"Data to send",eventsToSendConfig:"Events to send"}},UniversalTable:{RowsPerPage:"Rows per page",Of:"of"},SettingsPage:{Title:"Settings",LoadButton:"Download settings",DropzoneText:"Drag & drop or click to upload a file"},LoginPage:{LoginTitle:"Please log in",LoginButton:"Login",FormLoginTextField:"Login",FormPasswordTextField:"Password",FormLoginTextFieldHelperText:"At least 3 characters",FormPasswordTextFieldHelperText:"At least 8 characters",InvalidLoginPassword:"Invalid login/password combination"},AccountMenu:{MyAccount:"My Account",Logout:"Sign out",Profile:"Profile",UserAccounts:"User accounts"},AccountPage:{Title:"Account settings",NameTextField:"Name",CurrentPasswordTextField:"Current password",NewPasswordTextField:"New password",ChangePasswordButton:"Change password",PasswordHelperError8characters:"Password must consist of at least 8 characters",PasswordHelperErrorSamePasswords:"Current password and new password can't be the same"},CreateAccountDialog:{TitleCreate:"Create new account",TitleEdit:"Edit account",Cancel:"Cancel",Create:"Create",Update:"Update",NameTextField:"Name",PasswordTextField:"Password",NewPasswordTextField:"New password",PermissionsSelect:"Permissions",HelperTextName:"At least 3 characters",HelperTextPassword:"At least 8 characters",AccountBeingEditedSubtitle:"You are editing an account with ID: "},UserAccountsPage:{CreateUser:"Create user",IdColumn:"ID",NameColumn:"Name",PermissionsColumn:"Permissions",ActionColumn:"Actions",TooltipDelete:"Delete",TooltipEdit:"Edit"},Snackbar:{SuccessfulUserCreation:"User created successfully",SuccessfulUserDeletion:"User deleted successfully",SuccessfulUserEdit:"User edited successfully",SuccessfulPasswordChange:"Password changed successfully",UnsuccessfulPasswordChange:"Current password is invalid",UnsuccessfulUserEdit:"User editing failed",SuccessfulFileUpload:"File sent successfully",UnsuccessfulFileUpload403:"Only admin type accounts have permission to send configuration file",UnsuccessfulFileUpload400:"Invalid file contents",UnknownError:"Unknown error occured. Try again.",Generic403:"Access forbidden"},ConfirmDeleteUserDialog:{Title:"Please confirm deletion. The process is irreversible.",AccountToBeDeleted:"The following account is going to be deleted: ",Confirm:"Confirm",Cancel:"Cancel"}}},pl:{translation:{Drawer:{Devices:"Urz\u0105dzenia",Settings:"Ustawienia",Language:"J\u0119zyk"},LanguageSelection:{Label:"Wybierz j\u0119zyk aplikacji",PolishLanguage:"Polski",EnglishLanguage:"Angielski"},DevicesSelectionPage:{DatapointsTab:"Data pointy",EdgecomputingTab:"Edge computing",EventsTab:"Zdarzenia",DevicesTitle:"Urz\u0105dzenia",StatusConnected:"Po\u0142\u0105czony",StatusDisconnected:"Roz\u0142\u0105czony",Status:"Stan",Connect:"Po\u0142\u0105cz",Disconnect:"Roz\u0142\u0105cz",Tabs:{calcElements:"Edge computing",variables:"Zmienne",alerts:"Zdarzenia",info:"Informacje",datapoints:"Datapointy",dataToSendConfig:"Konfiguracja danych",eventsToSendConfig:"Konfiguracja zdarze\u0144"}},UniversalTable:{RowsPerPage:"Wierszy na stron\u0119",Of:"z"},SettingsPage:{Title:"Ustawienia",LoadButton:"Pobierz ustawienia",DropzoneText:"Przeci\u0105gnij i upu\u015b\u0107 tutaj lub kliknij, aby wczyta\u0107 plik"},LoginPage:{LoginTitle:"Zaloguj si\u0119",LoginButton:"Zaloguj",FormLoginTextField:"Login",FormPasswordTextField:"Has\u0142o",FormLoginTextFieldHelperText:"Co najmniej 3 znaki",FormPasswordTextFieldHelperText:"Co najmniej 8 znak\xf3w",InvalidLoginPassword:"Nieprawid\u0142owa nazwa lub has\u0142o"},AccountMenu:{MyAccount:"Moje konto",Logout:"Wyloguj",Profile:"Profil",UserAccounts:"Konta u\u017cytkownik\xf3w"},AccountPage:{Title:"Ustawienia konta",NameTextField:"Nazwa",CurrentPasswordTextField:"Aktualne has\u0142o",NewPasswordTextField:"Nowe has\u0142o",ChangePasswordButton:"Zmie\u0144 has\u0142o",PasswordHelperError8characters:"Has\u0142o musi si\u0119 sk\u0142ada\u0107 z co najmniej 8 znak\xf3w",PasswordHelperErrorSamePasswords:"Nowe has\u0142o nie mo\u017ce by\u0107 takie same jak aktualne"},CreateAccountDialog:{TitleCreate:"Utw\xf3rz nowe konto",TitleEdit:"Edytuj konto",Cancel:"Anuluj",Create:"Utw\xf3rz",Update:"Aktualizuj",NameTextField:"Nazwa",PasswordTextField:"Has\u0142o",NewPasswordTextField:"Nowe has\u0142o",PermissionsSelect:"Uprawnienia",HelperTextName:"Co najmniej 3 znaki",HelperTextPassword:"Co najmniej 8 znak\xf3w",AccountBeingEditedSubtitle:"Edytujesz konto o nast\u0119puj\u0105cym ID: "},UserAccountsPage:{CreateUser:"Utw\xf3rz u\u017cytkownika",IdColumn:"ID",NameColumn:"Nazwa",PermissionsColumn:"Uprawnienia",ActionColumn:"Akcje",TooltipDelete:"Usu\u0144",TooltipEdit:"Edytuj"},Snackbar:{SuccessfulUserCreation:"U\u017cytkownik pomy\u015blnie utworzony",SuccessfulUserDeletion:"U\u017cytkownik pomy\u015blnie usuni\u0119ty",SuccessfulUserEdit:"Edytowano pomy\u015blnie",SuccessfulPasswordChange:"Zmieniono has\u0142o pomy\u015blnie",UnsuccessfulPasswordChange:"Aktualne has\u0142o jest nieprawid\u0142owe",UnsuccessfulUserEdit:"Nie powiod\u0142a si\u0119 edycja u\u017cytkownika",SuccessfulFileUpload:"Pomy\u015blnie przes\u0142ano plik",UnsuccessfulFileUpload403:"Tylko konta admina maj\u0105 uprawnienia do wysy\u0142ania pliku konfiguracyjnego",UnsuccessfulFileUpload400:"Nieprawid\u0142owa zawarto\u015b\u0107 pliku",UnknownError:"Wyst\u0105pi\u0142 nieznany b\u0142\u0105d. Spr\xf3buj ponownie.",Generic403:"Brak uprawnie\u0144"},ConfirmDeleteUserDialog:{Title:"Prosz\u0119 potwierdzi\u0107 usuni\u0119cie. Ten proces jest nieodwracalny.",AccountToBeDeleted:"Zostanie usuni\u0119te nast\u0119puj\u0105ce konto: ",Confirm:"Potwierd\u017a",Cancel:"Anuluj"}}}},detection:ua,fallbackLng:"en",keySeparator:".",interpolation:{escapeValue:!1}});oa.a;var da=n(287),ja=n(286),ba=n(285),pa=n(94),ga=Object(g.a)({avatar:{backgroundColor:pa.a[100],color:pa.a[600]}});var ha={setLanguageDialogOpen:pn},Oa=Object(re.b)((function(e){return{open:e.LanguageDialogReducer.open}}),ha)((function(e){var t=ga(),n=Object(M.a)(),r=n.t,c=n.i18n,s=function(t){e.setLanguageDialogOpen(!1),c.changeLanguage(t)};return Object(a.jsxs)(ba.a,{onClose:function(){return e.setLanguageDialogOpen(!1)},"aria-labelledby":"simple-dialog-title",open:e.open,children:[Object(a.jsx)(ja.a,{id:"simple-dialog-title",children:r("LanguageSelection.Label")}),Object(a.jsxs)(x.a,{children:[Object(a.jsxs)(E.a,{button:!0,onClick:function(){return s("pl")},children:[Object(a.jsx)(da.a,{children:Object(a.jsx)(it.a,{className:t.avatar,children:"PL"})}),Object(a.jsx)(N.a,{primary:r("LanguageSelection.PolishLanguage")})]}),Object(a.jsxs)(E.a,{button:!0,onClick:function(){return s("en")},children:[Object(a.jsx)(da.a,{children:Object(a.jsx)(it.a,{className:t.avatar,children:"EN"})}),Object(a.jsx)(N.a,{primary:r("LanguageSelection.EnglishLanguage")})]})]})]})})),ma=n(290),fa=n(288),xa=n(289),va=n(295),wa=n(270),Sa=n(300),Da=Object(g.a)((function(e){return{formControl:{width:"100%"},selectEmpty:{marginTop:e.spacing(2)},form:{"& > *":{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}}));var Ca={setCreateAccountDialogOpen:Ht,setCreateAccountDialogNameTextfield:Gt,setCreateAccountDialogPasswordTextfield:function(e){return{type:_t,password:e}},setCreateAccountDialogPermissionsSelect:Jt,setCreateAccountDialogNameTextfieldError:function(e){return{type:Rt,error:e}},setCreateAccountDialogPasswordTextfieldError:function(e){return{type:Mt,error:e}},setSnackbarText:ne,setSnackbarShown:ae,setUserAccountsList:Ut},ya=Object(re.b)((function(e){return{open:e.CreateAccountDialog.open,type:e.CreateAccountDialog.type,name:e.CreateAccountDialog.name,nameError:e.CreateAccountDialog.nameError,password:e.CreateAccountDialog.password,passwordError:e.CreateAccountDialog.passwordError,permissions:e.CreateAccountDialog.permissions,editAccountId:e.CreateAccountDialog.editAccountId}}),Ca)((function(e){var t=e.open,n=e.type,r=e.name,c=e.nameError,s=e.password,o=e.passwordError,i=e.permissions,l=e.editAccountId,u=e.setCreateAccountDialogOpen,d=e.setCreateAccountDialogNameTextfield,j=e.setCreateAccountDialogPasswordTextfield,b=e.setCreateAccountDialogPermissionsSelect,p=e.setCreateAccountDialogNameTextfieldError,g=e.setCreateAccountDialogPasswordTextfieldError,h=e.setSnackbarShown,O=e.setSnackbarText,m=e.setUserAccountsList,f=Da(),x=Object(M.a)().t,v=Object(_.g)(),w=function(e){var t=e.target.value,n=e.target.name;g(!1),p(!1),"name"===n?d(t):"password"===n?j(t):"newpassword"===n||b(t)};return Object(a.jsxs)(ba.a,{open:t,onClose:function(){return u(!1)},"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(ja.a,{id:"form-dialog-title",children:x("create"===n?"CreateAccountDialog.TitleCreate":"CreateAccountDialog.TitleEdit")}),Object(a.jsxs)(fa.a,{children:["edit"===n?Object(a.jsxs)(xa.a,{children:[x("CreateAccountDialog.AccountBeingEditedSubtitle"),Object(a.jsx)("strong",{children:l})]}):null,Object(a.jsx)("form",{className:f.form,children:null!==en.getCurrentUser()?Object(a.jsxs)("div",{children:[Object(a.jsx)(ot.a,{disabled:"edit"===n,error:c,helperText:x(c?"LoginPage.InvalidLoginPassword":"LoginPage.FormLoginTextFieldHelperText"),onChange:w,name:"name",value:r,autoFocus:!0,margin:"dense",id:"name",label:x("CreateAccountDialog.NameTextField"),type:"text",fullWidth:!0}),Object(a.jsx)(ot.a,{error:o,helperText:x(o?"LoginPage.InvalidLoginPassword":"LoginPage.FormPasswordTextFieldHelperText"),onChange:w,autoComplete:"off",value:s,name:"password",margin:"dense",id:"password",label:x("CreateAccountDialog.PasswordTextField"),type:"password",fullWidth:!0}),Object(a.jsxs)(wa.a,{className:f.formControl,children:[Object(a.jsx)(Sa.a,{id:"permissions",children:x("CreateAccountDialog.PermissionsSelect")}),Object(a.jsxs)(va.a,{fullWidth:!0,labelId:"permissions",id:"permissions-select",name:"permissions",value:i,onChange:w,children:[en.getCurrentUser().permissions>=3?Object(a.jsx)(wn.a,{value:1,children:"User"}):null,7===en.getCurrentUser().permissions?Object(a.jsx)(wn.a,{value:3,children:"Admin"}):null,7===en.getCurrentUser().permissions?Object(a.jsx)(wn.a,{value:7,children:"SuperAdmin"}):null]})]})]}):null})]}),Object(a.jsxs)(ma.a,{children:[Object(a.jsx)(ie.a,{onClick:function(){return u(!1)},color:"primary",children:x("CreateAccountDialog.Cancel")}),Object(a.jsx)(ie.a,{disabled:function(){if("edit"===n){if(s.length>0&&s.length<8)return!0}else if(s.length<8||r.length<3)return!0;return!1}(),onClick:function(){return"edit"===n?void bt.editAccount(l,r,i,""!==s&&s).then((function(e){200===e.status?(O(x("Snackbar.SuccessfulUserEdit"),"success"),j(""),d(""),h(!0),u(!1),bt.getAllAccounts().then((function(e){m(e.data)})),e._id===en.getCurrentUser()._id&&(en.logout(),v.push("/login"))):403===e.status?(O(x("Snackbar.Generic403"),"error"),h(!0)):(O(x("Snackbar.UnknownError"),"error"),h(!0))})):void bt.register(r,s,i).then((function(e){200===e.status?(O(x("Snackbar.SuccessfulUserCreation"),"success"),h(!0),j(""),d(""),u(!1),bt.getAllAccounts().then((function(e){m(e.data)}))):403===e.status?(O(x("Snackbar.Generic403"),"error"),h(!0),j(""),d(""),u(!1)):(p(!0),g(!0))}))},color:"primary",children:x("create"===n?"CreateAccountDialog.Create":"CreateAccountDialog.Update")})]})]})})),Ta=n(296),ka=n(293);function Pa(e){return Object(a.jsx)(ka.a,Object(j.a)({elevation:6,variant:"filled"},e))}var Aa=Object(g.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));var Ea={setSnackbarShown:ae},Ua=Object(re.b)((function(e){return{text:e.SnackbarReducer.text,shown:e.SnackbarReducer.shown,severity:e.SnackbarReducer.severity}}),Ea)((function(e){var t=Aa(),n=function(t,n){"clickaway"!==n&&e.setSnackbarShown(!1)};return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(Ta.a,{open:e.shown,autoHideDuration:5e3,onClose:n,children:Object(a.jsx)(Pa,{onClose:n,severity:e.severity,children:e.text})})})}));var Na={setConfirmDeleteUserDialogOpen:Yt,setConfirmDeleteUserDialogUsername:$t,setUserAccountsList:Ut,setSnackbarText:ne,setSnackbarShown:ae},Ia=Object(re.b)((function(e){return{open:e.ConfirmDeleteUserDialogReducer.open,accountNameToBeDeleted:e.ConfirmDeleteUserDialogReducer.username,accountIdToBeDeleted:e.ConfirmDeleteUserDialogReducer.id}}),Na)((function(e){var t=Object(M.a)().t,n=Object(_.g)();return Object(a.jsxs)(ba.a,{open:e.open,onClose:function(){return e.setConfirmDeleteUserDialogOpen(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(ja.a,{id:"alert-dialog-title",children:t("ConfirmDeleteUserDialog.Title")}),Object(a.jsx)(fa.a,{children:Object(a.jsxs)(xa.a,{id:"alert-dialog-description",children:[t("ConfirmDeleteUserDialog.AccountToBeDeleted"),Object(a.jsx)("strong",{children:e.accountNameToBeDeleted})]})}),Object(a.jsxs)(ma.a,{children:[Object(a.jsx)(ie.a,{onClick:function(){bt.deleteAccount(e.accountIdToBeDeleted).then((function(a){200===a.status?(e.setConfirmDeleteUserDialogOpen(!1),e.setSnackbarText(t("Snackbar.SuccessfulUserDeletion")),e.setSnackbarShown(!0),e.accountIdToBeDeleted===en.getCurrentUser()._id?(en.logout(),n.push("/login")):bt.getAllAccounts().then((function(t){e.setUserAccountsList(t.data)}))):403===a.status?(e.setConfirmDeleteUserDialogOpen(!1),e.setSnackbarText(t("Snackbar.Generic403")),e.setSnackbarShown(!0)):(e.setConfirmDeleteUserDialogOpen(!1),e.setSnackbarText(t("Snackbar.UnknownError")),e.setSnackbarShown(!0))}))},color:"secondary",children:t("ConfirmDeleteUserDialog.Confirm")}),Object(a.jsx)(ie.a,{onClick:function(){return e.setConfirmDeleteUserDialogOpen(!1)},color:"primary",autoFocus:!0,children:t("ConfirmDeleteUserDialog.Cancel")})]})]})})),La=Object(Kn.c)(sa),Fa=Object(l.a)({palette:{primary:{light:"#33a095",main:"#00897b",dark:"#005f56",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#fff"}}});var Ra=function(){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(u.a,{theme:Fa,children:Object(a.jsxs)(re.a,{store:La,children:[Object(a.jsxs)(i.a,{children:[Object(a.jsx)(Vn,{}),Object(a.jsx)(ya,{}),Object(a.jsx)(Ia,{})]}),Object(a.jsx)(Oa,{}),Object(a.jsx)(Ua,{})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(Ra,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[204,1,2]]]);
//# sourceMappingURL=main.f1233d2d.chunk.js.map